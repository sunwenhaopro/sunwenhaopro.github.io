<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>CtrlCVer</title>
    <meta name="generator" content="VuePress 1.9.9">
    <link rel="icon" href="/6.ico">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.7.1/katex.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/github-markdown-css/2.10.0/github-markdown.min.css">
    <link rel="stylesheet" href="/css/index.css">
    <meta name="description" content="孙文豪大魔王">
    
    <link rel="preload" href="/assets/css/0.styles.84492279.css" as="style"><link rel="preload" href="/assets/js/app.347fa917.js" as="script"><link rel="preload" href="/assets/js/4.4e440976.js" as="script"><link rel="preload" href="/assets/js/81.78c287ce.js" as="script"><link rel="prefetch" href="/assets/js/10.1230c4be.js"><link rel="prefetch" href="/assets/js/11.daeaf548.js"><link rel="prefetch" href="/assets/js/12.abede0ae.js"><link rel="prefetch" href="/assets/js/13.cb62a723.js"><link rel="prefetch" href="/assets/js/14.5375bc4a.js"><link rel="prefetch" href="/assets/js/15.ffb73a9c.js"><link rel="prefetch" href="/assets/js/16.6be16dba.js"><link rel="prefetch" href="/assets/js/17.3879182a.js"><link rel="prefetch" href="/assets/js/18.04083c0b.js"><link rel="prefetch" href="/assets/js/19.ee44a025.js"><link rel="prefetch" href="/assets/js/2.3a3bb906.js"><link rel="prefetch" href="/assets/js/20.bdce0031.js"><link rel="prefetch" href="/assets/js/21.b9bf7143.js"><link rel="prefetch" href="/assets/js/22.aadd746b.js"><link rel="prefetch" href="/assets/js/23.d590bbfb.js"><link rel="prefetch" href="/assets/js/24.72023ebd.js"><link rel="prefetch" href="/assets/js/25.dd4e2abc.js"><link rel="prefetch" href="/assets/js/26.d2b37904.js"><link rel="prefetch" href="/assets/js/27.971418ab.js"><link rel="prefetch" href="/assets/js/28.779a0681.js"><link rel="prefetch" href="/assets/js/29.246ef370.js"><link rel="prefetch" href="/assets/js/3.4c8c30ea.js"><link rel="prefetch" href="/assets/js/30.ffc51d63.js"><link rel="prefetch" href="/assets/js/31.6d4fb3a7.js"><link rel="prefetch" href="/assets/js/32.0f4e411c.js"><link rel="prefetch" href="/assets/js/33.11a7d2af.js"><link rel="prefetch" href="/assets/js/34.e7403a40.js"><link rel="prefetch" href="/assets/js/35.92937b0a.js"><link rel="prefetch" href="/assets/js/36.9f52b8c7.js"><link rel="prefetch" href="/assets/js/37.193fb1cc.js"><link rel="prefetch" href="/assets/js/38.33e3fa35.js"><link rel="prefetch" href="/assets/js/39.1b9c5402.js"><link rel="prefetch" href="/assets/js/40.4ae4ec73.js"><link rel="prefetch" href="/assets/js/41.93514908.js"><link rel="prefetch" href="/assets/js/42.79934fb7.js"><link rel="prefetch" href="/assets/js/43.6be9e89a.js"><link rel="prefetch" href="/assets/js/44.cf8d93d5.js"><link rel="prefetch" href="/assets/js/45.89850dfb.js"><link rel="prefetch" href="/assets/js/46.c9bf838d.js"><link rel="prefetch" href="/assets/js/47.d009214c.js"><link rel="prefetch" href="/assets/js/48.f303128c.js"><link rel="prefetch" href="/assets/js/49.a002314e.js"><link rel="prefetch" href="/assets/js/5.baec3451.js"><link rel="prefetch" href="/assets/js/50.bf708037.js"><link rel="prefetch" href="/assets/js/51.a0931ba6.js"><link rel="prefetch" href="/assets/js/52.d828c50a.js"><link rel="prefetch" href="/assets/js/53.319606bc.js"><link rel="prefetch" href="/assets/js/54.45b73705.js"><link rel="prefetch" href="/assets/js/55.19e29602.js"><link rel="prefetch" href="/assets/js/56.70a7339c.js"><link rel="prefetch" href="/assets/js/57.24bae8ee.js"><link rel="prefetch" href="/assets/js/58.b9e501fa.js"><link rel="prefetch" href="/assets/js/59.5741b163.js"><link rel="prefetch" href="/assets/js/6.faab7e15.js"><link rel="prefetch" href="/assets/js/60.55c05a7e.js"><link rel="prefetch" href="/assets/js/61.66739ddc.js"><link rel="prefetch" href="/assets/js/62.984ff248.js"><link rel="prefetch" href="/assets/js/63.198b0614.js"><link rel="prefetch" href="/assets/js/64.44df42dc.js"><link rel="prefetch" href="/assets/js/65.835f260b.js"><link rel="prefetch" href="/assets/js/66.b01fd1a5.js"><link rel="prefetch" href="/assets/js/67.3e990aa1.js"><link rel="prefetch" href="/assets/js/68.3bff67c3.js"><link rel="prefetch" href="/assets/js/69.c77e5194.js"><link rel="prefetch" href="/assets/js/7.1e0b6ef9.js"><link rel="prefetch" href="/assets/js/70.990cc3f7.js"><link rel="prefetch" href="/assets/js/71.faf1e578.js"><link rel="prefetch" href="/assets/js/72.bf80a7aa.js"><link rel="prefetch" href="/assets/js/73.28855af5.js"><link rel="prefetch" href="/assets/js/74.575cab52.js"><link rel="prefetch" href="/assets/js/75.9fbc678e.js"><link rel="prefetch" href="/assets/js/76.aefd2222.js"><link rel="prefetch" href="/assets/js/77.29024e8c.js"><link rel="prefetch" href="/assets/js/78.1a261541.js"><link rel="prefetch" href="/assets/js/79.7f221adf.js"><link rel="prefetch" href="/assets/js/8.52cec024.js"><link rel="prefetch" href="/assets/js/80.a25bdaa1.js"><link rel="prefetch" href="/assets/js/9.6965887d.js">
    <link rel="stylesheet" href="/assets/css/0.styles.84492279.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/2.png" alt="CtrlCVer" class="logo"> <span class="site-name can-hide">CtrlCVer</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="数据库" class="dropdown-title"><span class="title">数据库</span> <span class="arrow down"></span></button> <button type="button" aria-label="数据库" class="mobile-dropdown-title"><span class="title">数据库</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/数据库/MySQL.html" class="nav-link">
  MySQL
</a></li><li class="dropdown-item"><!----> <a href="/pages/数据库/Redis.html" class="nav-link">
  Redis
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Vue" class="dropdown-title"><span class="title">Vue</span> <span class="arrow down"></span></button> <button type="button" aria-label="Vue" class="mobile-dropdown-title"><span class="title">Vue</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/Vue/Vue-loading动态加载.html" class="nav-link">
  Vue-loading动态加载
</a></li><li class="dropdown-item"><!----> <a href="/pages/Vue/Vue项目用axios做request封装.html" class="nav-link">
  Vue项目用axios做request封装
</a></li><li class="dropdown-item"><!----> <a href="/pages/Vue/前端踩坑之路.html" class="nav-link">
  前端踩坑之路
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="SpringBoot" class="dropdown-title"><span class="title">SpringBoot</span> <span class="arrow down"></span></button> <button type="button" aria-label="SpringBoot" class="mobile-dropdown-title"><span class="title">SpringBoot</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/SpringBoot/aop面向切面编程.html" class="nav-link">
  aop面向切面编程
</a></li><li class="dropdown-item"><!----> <a href="/pages/SpringBoot/Cron表达式.html" class="nav-link">
  Cron表达式
</a></li><li class="dropdown-item"><!----> <a href="/pages/SpringBoot/issue3.html" class="nav-link">
  issue3
</a></li><li class="dropdown-item"><!----> <a href="/pages/SpringBoot/Listener监听器.html" class="nav-link">
  Listener监听器
</a></li><li class="dropdown-item"><!----> <a href="/pages/SpringBoot/Mybatis 动态SQL.html" class="nav-link">
  Mybatis 动态SQL
</a></li><li class="dropdown-item"><!----> <a href="/pages/SpringBoot/Mybatis.html" class="nav-link">
  Mybatis
</a></li><li class="dropdown-item"><!----> <a href="/pages/SpringBoot/mybatis和spring整合.html" class="nav-link">
  mybatis和spring整合
</a></li><li class="dropdown-item"><!----> <a href="/pages/SpringBoot/Mybatis缓存机制.html" class="nav-link">
  Mybatis缓存机制
</a></li><li class="dropdown-item"><!----> <a href="/pages/SpringBoot/session之 HttpSessionActivation.html" class="nav-link">
  session之 HttpSessionActivation
</a></li><li class="dropdown-item"><!----> <a href="/pages/SpringBoot/springboot+vue部署后出现springboot后端部分页面404.html" class="nav-link">
  springboot+vue部署后出现springboot后端部分页面404
</a></li><li class="dropdown-item"><!----> <a href="/pages/SpringBoot/springboot.html" class="nav-link">
  springboot
</a></li><li class="dropdown-item"><!----> <a href="/pages/SpringBoot/SpringMVC介绍.html" class="nav-link">
  SpringMVC介绍
</a></li><li class="dropdown-item"><!----> <a href="/pages/SpringBoot/springmvc重定向和请求转发操作.html" class="nav-link">
  springmvc重定向和请求转发操作
</a></li><li class="dropdown-item"><!----> <a href="/pages/SpringBoot/Spring介绍.html" class="nav-link">
  Spring介绍
</a></li><li class="dropdown-item"><!----> <a href="/pages/SpringBoot/SSM整合开发.html" class="nav-link">
  SSM整合开发
</a></li><li class="dropdown-item"><!----> <a href="/pages/SpringBoot/url-pattern设置.html" class="nav-link">
  url-pattern设置
</a></li><li class="dropdown-item"><!----> <a href="/pages/SpringBoot/web开发.html" class="nav-link">
  web开发
</a></li><li class="dropdown-item"><!----> <a href="/pages/SpringBoot/yaml.html" class="nav-link">
  yaml
</a></li><li class="dropdown-item"><!----> <a href="/pages/SpringBoot/单元测试.html" class="nav-link">
  单元测试
</a></li><li class="dropdown-item"><!----> <a href="/pages/SpringBoot/启动原理.html" class="nav-link">
  启动原理
</a></li><li class="dropdown-item"><!----> <a href="/pages/SpringBoot/嵌入式servlet服务器.html" class="nav-link">
  嵌入式servlet服务器
</a></li><li class="dropdown-item"><!----> <a href="/pages/SpringBoot/异常，拦截器....html" class="nav-link">
  异常，拦截器...
</a></li><li class="dropdown-item"><!----> <a href="/pages/SpringBoot/执行流程分析.html" class="nav-link">
  执行流程分析
</a></li><li class="dropdown-item"><!----> <a href="/pages/SpringBoot/指标监控.html" class="nav-link">
  指标监控
</a></li><li class="dropdown-item"><!----> <a href="/pages/SpringBoot/数据访问.html" class="nav-link">
  数据访问
</a></li><li class="dropdown-item"><!----> <a href="/pages/SpringBoot/注意.html" class="nav-link">
  注意
</a></li><li class="dropdown-item"><!----> <a href="/pages/SpringBoot/注解.html" class="nav-link">
  注解
</a></li><li class="dropdown-item"><!----> <a href="/pages/SpringBoot/注解方式注入.html" class="nav-link">
  注解方式注入
</a></li><li class="dropdown-item"><!----> <a href="/pages/SpringBoot/源码分析.html" class="nav-link">
  源码分析
</a></li><li class="dropdown-item"><!----> <a href="/pages/SpringBoot/高级特性.html" class="nav-link">
  高级特性
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="SpringCloud" class="dropdown-title"><span class="title">SpringCloud</span> <span class="arrow down"></span></button> <button type="button" aria-label="SpringCloud" class="mobile-dropdown-title"><span class="title">SpringCloud</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/SpringCloud/Eureka.html" class="nav-link">
  Eureka
</a></li><li class="dropdown-item"><!----> <a href="/pages/SpringCloud/Gateway.html" class="nav-link">
  Gateway
</a></li><li class="dropdown-item"><!----> <a href="/pages/SpringCloud/Hystrix断路器.html" class="nav-link">
  Hystrix断路器
</a></li><li class="dropdown-item"><!----> <a href="/pages/SpringCloud/nacos-config.html" class="nav-link">
  nacos-config
</a></li><li class="dropdown-item"><!----> <a href="/pages/SpringCloud/nacos.html" class="nav-link">
  nacos
</a></li><li class="dropdown-item"><!----> <a href="/pages/SpringCloud/nacos集群和持久化配置.html" class="nav-link">
  nacos集群和持久化配置
</a></li><li class="dropdown-item"><!----> <a href="/pages/SpringCloud/OpenFeign ISsue.html" class="nav-link">
  OpenFeign ISsue
</a></li><li class="dropdown-item"><!----> <a href="/pages/SpringCloud/OpenFeign-issue.html" class="nav-link">
  OpenFeign-issue
</a></li><li class="dropdown-item"><!----> <a href="/pages/SpringCloud/OpenFeign服务接口调用.html" class="nav-link">
  OpenFeign服务接口调用
</a></li><li class="dropdown-item"><!----> <a href="/pages/SpringCloud/question.html" class="nav-link">
  question
</a></li><li class="dropdown-item"><!----> <a href="/pages/SpringCloud/seata.html" class="nav-link">
  seata
</a></li><li class="dropdown-item"><!----> <a href="/pages/SpringCloud/security.html" class="nav-link">
  security
</a></li><li class="dropdown-item"><!----> <a href="/pages/SpringCloud/sentinel.html" class="nav-link">
  sentinel
</a></li><li class="dropdown-item"><!----> <a href="/pages/SpringCloud/Sentinel实现熔断与限流.html" class="nav-link">
  Sentinel实现熔断与限流
</a></li><li class="dropdown-item"><!----> <a href="/pages/SpringCloud/Spring Cloud Ribbon.html" class="nav-link">
  Spring Cloud Ribbon
</a></li><li class="dropdown-item"><!----> <a href="/pages/SpringCloud/spring-cloud-stream.html" class="nav-link">
  spring-cloud-stream
</a></li><li class="dropdown-item"><!----> <a href="/pages/SpringCloud/stream3.2学习.html" class="nav-link">
  stream3.2学习
</a></li><li class="dropdown-item"><!----> <a href="/pages/SpringCloud/zookeeper.html" class="nav-link">
  zookeeper
</a></li><li class="dropdown-item"><!----> <a href="/pages/SpringCloud/配置中心.html" class="nav-link">
  配置中心
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="JVM" class="dropdown-title"><span class="title">JVM</span> <span class="arrow down"></span></button> <button type="button" aria-label="JVM" class="mobile-dropdown-title"><span class="title">JVM</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/JVM/JVM.html" class="nav-link">
  JVM
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="JUC" class="dropdown-title"><span class="title">JUC</span> <span class="arrow down"></span></button> <button type="button" aria-label="JUC" class="mobile-dropdown-title"><span class="title">JUC</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/JUC/Atomic原子操作类.html" class="nav-link">
  Atomic原子操作类
</a></li><li class="dropdown-item"><!----> <a href="/pages/JUC/CAS.html" class="nav-link">
  CAS
</a></li><li class="dropdown-item"><!----> <a href="/pages/JUC/Java内存模型JMM.html" class="nav-link">
  Java内存模型JMM
</a></li><li class="dropdown-item"><!----> <a href="/pages/JUC/Java对象内存布局和对象头.html" class="nav-link">
  Java对象内存布局和对象头
</a></li><li class="dropdown-item"><!----> <a href="/pages/JUC/synchronized.html" class="nav-link">
  synchronized
</a></li><li class="dropdown-item"><!----> <a href="/pages/JUC/ThreadLocl.html" class="nav-link">
  ThreadLocl
</a></li><li class="dropdown-item"><!----> <a href="/pages/JUC/Thread、ThreadLocal、ThreadLocalMap.html" class="nav-link">
  Thread、ThreadLocal、ThreadLocalMap
</a></li><li class="dropdown-item"><!----> <a href="/pages/JUC/volatile.html" class="nav-link">
  volatile
</a></li><li class="dropdown-item"><!----> <a href="/pages/JUC/多线程锁.html" class="nav-link">
  多线程锁
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Project" class="dropdown-title"><span class="title">Project</span> <span class="arrow down"></span></button> <button type="button" aria-label="Project" class="mobile-dropdown-title"><span class="title">Project</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/Project/clash部署至服务器，提供“上网”服务.html" class="nav-link">
  clash部署至服务器，提供“上网”服务
</a></li><li class="dropdown-item"><!----> <a href="/pages/Project/Oauth2.html" class="nav-link">
  Oauth2
</a></li><li class="dropdown-item"><!----> <a href="/pages/Project/SSE+Flux.html" class="nav-link">
  SSE+Flux
</a></li><li class="dropdown-item"><!----> <a href="/pages/Project/Unicloud 阿里云服务器作图床.html" class="nav-link">
  Unicloud 阿里云服务器作图床
</a></li><li class="dropdown-item"><!----> <a href="/pages/Project/内网穿透技术初探.html" class="nav-link">
  内网穿透技术初探
</a></li><li class="dropdown-item"><!----> <a href="/pages/Project/微信订阅号开发.html" class="nav-link">
  微信订阅号开发
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="课程" class="dropdown-title"><span class="title">课程</span> <span class="arrow down"></span></button> <button type="button" aria-label="课程" class="mobile-dropdown-title"><span class="title">课程</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/课程/操作系统.html" class="nav-link">
  操作系统
</a></li><li class="dropdown-item"><!----> <a href="/pages/课程/计算机组成与原理.html" class="nav-link">
  计算机组成与原理
</a></li><li class="dropdown-item"><!----> <a href="/pages/课程/计算机网络.html" class="nav-link">
  计算机网络
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="机器视觉" class="dropdown-title"><span class="title">机器视觉</span> <span class="arrow down"></span></button> <button type="button" aria-label="机器视觉" class="mobile-dropdown-title"><span class="title">机器视觉</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/机器视觉/RTMPose.html" class="nav-link">
  RTMPose
</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/sunwenhaopro" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="数据库" class="dropdown-title"><span class="title">数据库</span> <span class="arrow down"></span></button> <button type="button" aria-label="数据库" class="mobile-dropdown-title"><span class="title">数据库</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/数据库/MySQL.html" class="nav-link">
  MySQL
</a></li><li class="dropdown-item"><!----> <a href="/pages/数据库/Redis.html" class="nav-link">
  Redis
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Vue" class="dropdown-title"><span class="title">Vue</span> <span class="arrow down"></span></button> <button type="button" aria-label="Vue" class="mobile-dropdown-title"><span class="title">Vue</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/Vue/Vue-loading动态加载.html" class="nav-link">
  Vue-loading动态加载
</a></li><li class="dropdown-item"><!----> <a href="/pages/Vue/Vue项目用axios做request封装.html" class="nav-link">
  Vue项目用axios做request封装
</a></li><li class="dropdown-item"><!----> <a href="/pages/Vue/前端踩坑之路.html" class="nav-link">
  前端踩坑之路
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="SpringBoot" class="dropdown-title"><span class="title">SpringBoot</span> <span class="arrow down"></span></button> <button type="button" aria-label="SpringBoot" class="mobile-dropdown-title"><span class="title">SpringBoot</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/SpringBoot/aop面向切面编程.html" class="nav-link">
  aop面向切面编程
</a></li><li class="dropdown-item"><!----> <a href="/pages/SpringBoot/Cron表达式.html" class="nav-link">
  Cron表达式
</a></li><li class="dropdown-item"><!----> <a href="/pages/SpringBoot/issue3.html" class="nav-link">
  issue3
</a></li><li class="dropdown-item"><!----> <a href="/pages/SpringBoot/Listener监听器.html" class="nav-link">
  Listener监听器
</a></li><li class="dropdown-item"><!----> <a href="/pages/SpringBoot/Mybatis 动态SQL.html" class="nav-link">
  Mybatis 动态SQL
</a></li><li class="dropdown-item"><!----> <a href="/pages/SpringBoot/Mybatis.html" class="nav-link">
  Mybatis
</a></li><li class="dropdown-item"><!----> <a href="/pages/SpringBoot/mybatis和spring整合.html" class="nav-link">
  mybatis和spring整合
</a></li><li class="dropdown-item"><!----> <a href="/pages/SpringBoot/Mybatis缓存机制.html" class="nav-link">
  Mybatis缓存机制
</a></li><li class="dropdown-item"><!----> <a href="/pages/SpringBoot/session之 HttpSessionActivation.html" class="nav-link">
  session之 HttpSessionActivation
</a></li><li class="dropdown-item"><!----> <a href="/pages/SpringBoot/springboot+vue部署后出现springboot后端部分页面404.html" class="nav-link">
  springboot+vue部署后出现springboot后端部分页面404
</a></li><li class="dropdown-item"><!----> <a href="/pages/SpringBoot/springboot.html" class="nav-link">
  springboot
</a></li><li class="dropdown-item"><!----> <a href="/pages/SpringBoot/SpringMVC介绍.html" class="nav-link">
  SpringMVC介绍
</a></li><li class="dropdown-item"><!----> <a href="/pages/SpringBoot/springmvc重定向和请求转发操作.html" class="nav-link">
  springmvc重定向和请求转发操作
</a></li><li class="dropdown-item"><!----> <a href="/pages/SpringBoot/Spring介绍.html" class="nav-link">
  Spring介绍
</a></li><li class="dropdown-item"><!----> <a href="/pages/SpringBoot/SSM整合开发.html" class="nav-link">
  SSM整合开发
</a></li><li class="dropdown-item"><!----> <a href="/pages/SpringBoot/url-pattern设置.html" class="nav-link">
  url-pattern设置
</a></li><li class="dropdown-item"><!----> <a href="/pages/SpringBoot/web开发.html" class="nav-link">
  web开发
</a></li><li class="dropdown-item"><!----> <a href="/pages/SpringBoot/yaml.html" class="nav-link">
  yaml
</a></li><li class="dropdown-item"><!----> <a href="/pages/SpringBoot/单元测试.html" class="nav-link">
  单元测试
</a></li><li class="dropdown-item"><!----> <a href="/pages/SpringBoot/启动原理.html" class="nav-link">
  启动原理
</a></li><li class="dropdown-item"><!----> <a href="/pages/SpringBoot/嵌入式servlet服务器.html" class="nav-link">
  嵌入式servlet服务器
</a></li><li class="dropdown-item"><!----> <a href="/pages/SpringBoot/异常，拦截器....html" class="nav-link">
  异常，拦截器...
</a></li><li class="dropdown-item"><!----> <a href="/pages/SpringBoot/执行流程分析.html" class="nav-link">
  执行流程分析
</a></li><li class="dropdown-item"><!----> <a href="/pages/SpringBoot/指标监控.html" class="nav-link">
  指标监控
</a></li><li class="dropdown-item"><!----> <a href="/pages/SpringBoot/数据访问.html" class="nav-link">
  数据访问
</a></li><li class="dropdown-item"><!----> <a href="/pages/SpringBoot/注意.html" class="nav-link">
  注意
</a></li><li class="dropdown-item"><!----> <a href="/pages/SpringBoot/注解.html" class="nav-link">
  注解
</a></li><li class="dropdown-item"><!----> <a href="/pages/SpringBoot/注解方式注入.html" class="nav-link">
  注解方式注入
</a></li><li class="dropdown-item"><!----> <a href="/pages/SpringBoot/源码分析.html" class="nav-link">
  源码分析
</a></li><li class="dropdown-item"><!----> <a href="/pages/SpringBoot/高级特性.html" class="nav-link">
  高级特性
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="SpringCloud" class="dropdown-title"><span class="title">SpringCloud</span> <span class="arrow down"></span></button> <button type="button" aria-label="SpringCloud" class="mobile-dropdown-title"><span class="title">SpringCloud</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/SpringCloud/Eureka.html" class="nav-link">
  Eureka
</a></li><li class="dropdown-item"><!----> <a href="/pages/SpringCloud/Gateway.html" class="nav-link">
  Gateway
</a></li><li class="dropdown-item"><!----> <a href="/pages/SpringCloud/Hystrix断路器.html" class="nav-link">
  Hystrix断路器
</a></li><li class="dropdown-item"><!----> <a href="/pages/SpringCloud/nacos-config.html" class="nav-link">
  nacos-config
</a></li><li class="dropdown-item"><!----> <a href="/pages/SpringCloud/nacos.html" class="nav-link">
  nacos
</a></li><li class="dropdown-item"><!----> <a href="/pages/SpringCloud/nacos集群和持久化配置.html" class="nav-link">
  nacos集群和持久化配置
</a></li><li class="dropdown-item"><!----> <a href="/pages/SpringCloud/OpenFeign ISsue.html" class="nav-link">
  OpenFeign ISsue
</a></li><li class="dropdown-item"><!----> <a href="/pages/SpringCloud/OpenFeign-issue.html" class="nav-link">
  OpenFeign-issue
</a></li><li class="dropdown-item"><!----> <a href="/pages/SpringCloud/OpenFeign服务接口调用.html" class="nav-link">
  OpenFeign服务接口调用
</a></li><li class="dropdown-item"><!----> <a href="/pages/SpringCloud/question.html" class="nav-link">
  question
</a></li><li class="dropdown-item"><!----> <a href="/pages/SpringCloud/seata.html" class="nav-link">
  seata
</a></li><li class="dropdown-item"><!----> <a href="/pages/SpringCloud/security.html" class="nav-link">
  security
</a></li><li class="dropdown-item"><!----> <a href="/pages/SpringCloud/sentinel.html" class="nav-link">
  sentinel
</a></li><li class="dropdown-item"><!----> <a href="/pages/SpringCloud/Sentinel实现熔断与限流.html" class="nav-link">
  Sentinel实现熔断与限流
</a></li><li class="dropdown-item"><!----> <a href="/pages/SpringCloud/Spring Cloud Ribbon.html" class="nav-link">
  Spring Cloud Ribbon
</a></li><li class="dropdown-item"><!----> <a href="/pages/SpringCloud/spring-cloud-stream.html" class="nav-link">
  spring-cloud-stream
</a></li><li class="dropdown-item"><!----> <a href="/pages/SpringCloud/stream3.2学习.html" class="nav-link">
  stream3.2学习
</a></li><li class="dropdown-item"><!----> <a href="/pages/SpringCloud/zookeeper.html" class="nav-link">
  zookeeper
</a></li><li class="dropdown-item"><!----> <a href="/pages/SpringCloud/配置中心.html" class="nav-link">
  配置中心
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="JVM" class="dropdown-title"><span class="title">JVM</span> <span class="arrow down"></span></button> <button type="button" aria-label="JVM" class="mobile-dropdown-title"><span class="title">JVM</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/JVM/JVM.html" class="nav-link">
  JVM
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="JUC" class="dropdown-title"><span class="title">JUC</span> <span class="arrow down"></span></button> <button type="button" aria-label="JUC" class="mobile-dropdown-title"><span class="title">JUC</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/JUC/Atomic原子操作类.html" class="nav-link">
  Atomic原子操作类
</a></li><li class="dropdown-item"><!----> <a href="/pages/JUC/CAS.html" class="nav-link">
  CAS
</a></li><li class="dropdown-item"><!----> <a href="/pages/JUC/Java内存模型JMM.html" class="nav-link">
  Java内存模型JMM
</a></li><li class="dropdown-item"><!----> <a href="/pages/JUC/Java对象内存布局和对象头.html" class="nav-link">
  Java对象内存布局和对象头
</a></li><li class="dropdown-item"><!----> <a href="/pages/JUC/synchronized.html" class="nav-link">
  synchronized
</a></li><li class="dropdown-item"><!----> <a href="/pages/JUC/ThreadLocl.html" class="nav-link">
  ThreadLocl
</a></li><li class="dropdown-item"><!----> <a href="/pages/JUC/Thread、ThreadLocal、ThreadLocalMap.html" class="nav-link">
  Thread、ThreadLocal、ThreadLocalMap
</a></li><li class="dropdown-item"><!----> <a href="/pages/JUC/volatile.html" class="nav-link">
  volatile
</a></li><li class="dropdown-item"><!----> <a href="/pages/JUC/多线程锁.html" class="nav-link">
  多线程锁
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Project" class="dropdown-title"><span class="title">Project</span> <span class="arrow down"></span></button> <button type="button" aria-label="Project" class="mobile-dropdown-title"><span class="title">Project</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/Project/clash部署至服务器，提供“上网”服务.html" class="nav-link">
  clash部署至服务器，提供“上网”服务
</a></li><li class="dropdown-item"><!----> <a href="/pages/Project/Oauth2.html" class="nav-link">
  Oauth2
</a></li><li class="dropdown-item"><!----> <a href="/pages/Project/SSE+Flux.html" class="nav-link">
  SSE+Flux
</a></li><li class="dropdown-item"><!----> <a href="/pages/Project/Unicloud 阿里云服务器作图床.html" class="nav-link">
  Unicloud 阿里云服务器作图床
</a></li><li class="dropdown-item"><!----> <a href="/pages/Project/内网穿透技术初探.html" class="nav-link">
  内网穿透技术初探
</a></li><li class="dropdown-item"><!----> <a href="/pages/Project/微信订阅号开发.html" class="nav-link">
  微信订阅号开发
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="课程" class="dropdown-title"><span class="title">课程</span> <span class="arrow down"></span></button> <button type="button" aria-label="课程" class="mobile-dropdown-title"><span class="title">课程</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/课程/操作系统.html" class="nav-link">
  操作系统
</a></li><li class="dropdown-item"><!----> <a href="/pages/课程/计算机组成与原理.html" class="nav-link">
  计算机组成与原理
</a></li><li class="dropdown-item"><!----> <a href="/pages/课程/计算机网络.html" class="nav-link">
  计算机网络
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="机器视觉" class="dropdown-title"><span class="title">机器视觉</span> <span class="arrow down"></span></button> <button type="button" aria-label="机器视觉" class="mobile-dropdown-title"><span class="title">机器视觉</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/机器视觉/RTMPose.html" class="nav-link">
  RTMPose
</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/sunwenhaopro" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/pages/机器视觉/RTMPose.html" class="active sidebar-link">/pages/机器视觉/RTMPose.html</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pages/机器视觉/RTMPose.html#abstract" class="sidebar-link">Abstract</a></li><li class="sidebar-sub-header"><a href="/pages/机器视觉/RTMPose.html#📄-table-of-contents" class="sidebar-link">📄 Table of Contents</a></li><li class="sidebar-sub-header"><a href="/pages/机器视觉/RTMPose.html#🥳-最新进展-🔝" class="sidebar-link">🥳 最新进展 🔝</a></li><li class="sidebar-sub-header"><a href="/pages/机器视觉/RTMPose.html#📖-简介-🔝" class="sidebar-link">📖 简介 🔝</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pages/机器视觉/RTMPose.html#✨-主要特性" class="sidebar-link">✨ 主要特性</a></li></ul></li><li class="sidebar-sub-header"><a href="/pages/机器视觉/RTMPose.html#🙌-社区共建-🔝" class="sidebar-link">🙌 社区共建 🔝</a></li><li class="sidebar-sub-header"><a href="/pages/机器视觉/RTMPose.html#⚡-pipeline-性能-🔝" class="sidebar-link">⚡ Pipeline 性能 🔝</a></li><li class="sidebar-sub-header"><a href="/pages/机器视觉/RTMPose.html#📊-模型库-🔝" class="sidebar-link">📊 模型库 🔝</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pages/机器视觉/RTMPose.html#人体-2d-关键点-17-keypoints" class="sidebar-link">人体 2d 关键点 (17 Keypoints)</a></li><li class="sidebar-sub-header"><a href="/pages/机器视觉/RTMPose.html#人体全身-2d-关键点-133-keypoints" class="sidebar-link">人体全身 2d 关键点 (133 Keypoints)</a></li><li class="sidebar-sub-header"><a href="/pages/机器视觉/RTMPose.html#动物-2d-关键点-17-keypoints" class="sidebar-link">动物 2d 关键点 (17 Keypoints)</a></li><li class="sidebar-sub-header"><a href="/pages/机器视觉/RTMPose.html#脸部-2d-关键点-106-keypoints" class="sidebar-link">脸部 2d 关键点 (106 Keypoints)</a></li><li class="sidebar-sub-header"><a href="/pages/机器视觉/RTMPose.html#手部-2d-关键点" class="sidebar-link">手部 2d 关键点</a></li><li class="sidebar-sub-header"><a href="/pages/机器视觉/RTMPose.html#预训练模型" class="sidebar-link">预训练模型</a></li></ul></li><li class="sidebar-sub-header"><a href="/pages/机器视觉/RTMPose.html#👀-可视化-🔝" class="sidebar-link">👀 可视化 🔝</a></li><li class="sidebar-sub-header"><a href="/pages/机器视觉/RTMPose.html#😎-快速尝试-🔝" class="sidebar-link">😎 快速尝试 🔝</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pages/机器视觉/RTMPose.html#mmpose-demo-脚本" class="sidebar-link">MMPose demo 脚本</a></li><li class="sidebar-sub-header"><a href="/pages/机器视觉/RTMPose.html#mmdeploy-sdk-预编译包-推荐" class="sidebar-link">MMDeploy SDK 预编译包 （推荐）</a></li></ul></li><li class="sidebar-sub-header"><a href="/pages/机器视觉/RTMPose.html#👨‍🏫-模型训练-🔝" class="sidebar-link">👨‍🏫 模型训练 🔝</a></li><li class="sidebar-sub-header"><a href="/pages/机器视觉/RTMPose.html#🏗️-部署教程-🔝" class="sidebar-link">🏗️ 部署教程 🔝</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pages/机器视觉/RTMPose.html#🧩-安装" class="sidebar-link">🧩 安装</a></li><li class="sidebar-sub-header"><a href="/pages/机器视觉/RTMPose.html#🛠️-模型转换" class="sidebar-link">🛠️ 模型转换</a></li><li class="sidebar-sub-header"><a href="/pages/机器视觉/RTMPose.html#🕹️-sdk-推理" class="sidebar-link">🕹️ SDK 推理</a></li><li class="sidebar-sub-header"><a href="/pages/机器视觉/RTMPose.html#🚀-pipeline-推理" class="sidebar-link">🚀 Pipeline 推理</a></li></ul></li><li class="sidebar-sub-header"><a href="/pages/机器视觉/RTMPose.html#📚-常用功能-🔝" class="sidebar-link">📚 常用功能 🔝</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pages/机器视觉/RTMPose.html#🚀-模型测速-🔝" class="sidebar-link">🚀 模型测速 🔝</a></li><li class="sidebar-sub-header"><a href="/pages/机器视觉/RTMPose.html#📊-精度验证-🔝" class="sidebar-link">📊 精度验证 🔝</a></li></ul></li><li class="sidebar-sub-header"><a href="/pages/机器视觉/RTMPose.html#📜-引用-🔝" class="sidebar-link">📜 引用 🔝</a></li></ul></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><div align="center"><img width="100%" src="https://user-images.githubusercontent.com/15977946/225229448-36ff568d-a723-4248-bb19-2df4044ff8e8.png"></div> <h1 id="rtmpose-real-time-multi-person-pose-estimation-toolkit-based-on-mmpose"><a href="#rtmpose-real-time-multi-person-pose-estimation-toolkit-based-on-mmpose" class="header-anchor">#</a> RTMPose: Real-Time Multi-Person Pose Estimation toolkit based on MMPose</h1> <blockquote><p><a href="https://arxiv.org/abs/2303.07399" target="_blank" rel="noopener noreferrer">RTMPose: Real-Time Multi-Person Pose Estimation based on MMPose<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></blockquote> <div align="center"><p><a href="https://paperswithcode.com/sota/2d-human-pose-estimation-on-coco-wholebody-1?p=rtmpose-real-time-multi-person-pose" target="_blank" rel="noopener noreferrer"><img src="https://img.shields.io/endpoint.svg?url=https://paperswithcode.com/badge/rtmpose-real-time-multi-person-pose/2d-human-pose-estimation-on-coco-wholebody-1" alt="PWC"><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></div> <div align="center"><p><a href="/pages/机器视觉/">English</a> | 简体中文</p></div> <hr> <h2 id="abstract"><a href="#abstract" class="header-anchor">#</a> Abstract</h2> <p>近年来，2D 姿态估计的研究在公开数据集上取得了出色的成绩，但是它在工业界的应用仍然受到笨重的模型参数和高推理延迟的影响。为了让前沿姿态估计算法在工业界落地，我们通过实验研究了多人姿态估计算法的五个方面：范式、骨干网络、定位算法、训练策略和部署推理，基于 MMPose 提出了一个高性能的实时多人姿态估计框架 <strong>RTMPose</strong>。我们的 RTMPose-m 模型在 COCO 上取得 <strong>75.8％AP</strong>，在 Intel i7-11700 CPU 上达到 <strong>90+FPS</strong>，在 NVIDIA GTX 1660 Ti GPU 上达到 <strong>430+FPS</strong>，RTMPose-l 在 COCO-WholeBody 上达到 <strong>67.0％AP</strong>，<strong>130+FPS</strong>。我们同样验证了在算力有限的设备上做实时姿态估计，RTMPose-s 在移动端骁龙865芯片上可以达到 <strong>COCO 72.2%AP</strong>，<strong>70+FPS</strong>。在 MMDeploy 的帮助下，我们的项目支持 CPU、GPU、Jetson、移动端等多种部署环境。</p> <p><img src="https://user-images.githubusercontent.com/13503330/219269619-935499e5-bdd9-49ea-8104-3c7796dbd862.png" alt="rtmpose_intro"></p> <hr> <h2 id="📄-table-of-contents"><a href="#📄-table-of-contents" class="header-anchor">#</a> 📄 Table of Contents</h2> <ul><li><a href="#--%E6%9C%80%E6%96%B0%E8%BF%9B%E5%B1%95-">🥳 🚀 最新进展</a></li> <li><a href="#-%E7%AE%80%E4%BB%8B-">📖 简介</a></li> <li><a href="#-%E7%A4%BE%E5%8C%BA%E5%85%B1%E5%BB%BA-">🙌 社区共建</a></li> <li><a href="#-pipeline-%E6%80%A7%E8%83%BD-">⚡ Pipeline 性能</a></li> <li><a href="#-%E6%A8%A1%E5%9E%8B%E5%BA%93-">📊 模型库</a></li> <li><a href="#-%E5%8F%AF%E8%A7%86%E5%8C%96-">👀 可视化</a></li> <li><a href="#-%E5%BF%AB%E9%80%9F%E5%B0%9D%E8%AF%95-">😎 快速尝试</a></li> <li><a href="#-%E6%A8%A1%E5%9E%8B%E8%AE%AD%E7%BB%83-">👨‍🏫 模型训练</a></li> <li><a href="#%EF%B8%8F-%E9%83%A8%E7%BD%B2%E6%95%99%E7%A8%8B-">🏗️ 部署教程</a></li> <li><a href="#%EF%B8%8F-%E5%B8%B8%E7%94%A8%E5%8A%9F%E8%83%BD-">📚 常用功能</a> <ul><li><a href="#-%E6%A8%A1%E5%9E%8B%E6%B5%8B%E9%80%9F-">🚀 模型测速</a></li> <li><a href="#-%E7%B2%BE%E5%BA%A6%E9%AA%8C%E8%AF%81-">📊 精度验证</a></li></ul></li> <li><a href="#-%E5%BC%95%E7%94%A8-">📜 引用</a></li></ul> <h2 id="🥳-最新进展-🔝"><a href="#🥳-最新进展-🔝" class="header-anchor">#</a> 🥳 最新进展 <a href="#-table-of-contents">🔝</a></h2> <ul><li>2023 年 3 月：发布 RTMPose。RTMPose-m 取得 COCO 验证集 75.8 mAP，推理速度达到 430+ FPS 。</li></ul> <h2 id="📖-简介-🔝"><a href="#📖-简介-🔝" class="header-anchor">#</a> 📖 简介 <a href="#-table-of-contents">🔝</a></h2> <div align="center"><img src="https://user-images.githubusercontent.com/13503330/221138554-110240d8-e887-4b9a-90b1-2fbdc982e9de.gif" width="400" height="300/"><img src="https://user-images.githubusercontent.com/13503330/221125176-85015a13-9648-4f0d-a17c-1cbb469efacf.gif" width="250" height="300/"><img src="https://user-images.githubusercontent.com/13503330/221125310-7eeb2212-907e-427f-97af-af799d70a4c5.gif" width="250" height="300/"></div> <div align="center"><img src="https://user-images.githubusercontent.com/13503330/221125768-8e0d6754-e66d-4941-ac53-ded8db9b60f9.gif" width="450" height="300/"><img src="https://user-images.githubusercontent.com/13503330/221125888-15c20faf-0ad5-4afb-828b-a71ccb064582.gif" width="450" height="300/"></div> <div align="center"><img src="https://user-images.githubusercontent.com/13503330/221124560-af84b291-4300-4027-87ae-8c3a201c3f67.gif" width="300" height="350/"><img src="https://user-images.githubusercontent.com/13503330/221138017-10431ab4-e515-4c32-8fa7-8748e2d17a58.gif" width="600" height="350/"></div> <h3 id="✨-主要特性"><a href="#✨-主要特性" class="header-anchor">#</a> ✨ 主要特性</h3> <ul><li><p>🚀 <strong>高精度，低延迟</strong></p> <table><thead><tr><th style="text-align:center;">Model</th> <th style="text-align:center;">AP(COCO)</th> <th style="text-align:center;">CPU-FPS</th> <th style="text-align:center;">GPU-FPS</th></tr></thead> <tbody><tr><td style="text-align:center;">t</td> <td style="text-align:center;">68.5</td> <td style="text-align:center;">300+</td> <td style="text-align:center;">940+</td></tr> <tr><td style="text-align:center;">s</td> <td style="text-align:center;">72.2</td> <td style="text-align:center;">200+</td> <td style="text-align:center;">710+</td></tr> <tr><td style="text-align:center;">m</td> <td style="text-align:center;">75.8</td> <td style="text-align:center;">90+</td> <td style="text-align:center;">430+</td></tr> <tr><td style="text-align:center;">l</td> <td style="text-align:center;">76.5</td> <td style="text-align:center;">50+</td> <td style="text-align:center;">280+</td></tr></tbody></table></li> <li><p>🛠️ <strong>易部署</strong></p> <ul><li>详细的部署代码教程，手把手教你模型部署</li> <li>MMDeploy 助力</li> <li>支持多种部署后端
<ul><li>ONNX</li> <li>TensorRT</li> <li>ncnn</li> <li>OpenVINO 等</li></ul></li> <li>支持多种平台
<ul><li>Linux</li> <li>Windows</li> <li>NVIDIA Jetson</li> <li>ARM 等</li></ul></li></ul></li> <li><p>🏗️ <strong>为实际业务设计</strong></p> <ul><li>提供多种 Pipeline 推理接口和 SDK
<ul><li>Python</li> <li>C++</li> <li>C#</li> <li>JAVA 等</li></ul></li></ul></li></ul> <h2 id="🙌-社区共建-🔝"><a href="#🙌-社区共建-🔝" class="header-anchor">#</a> 🙌 社区共建 <a href="#-table-of-contents">🔝</a></h2> <p>RTMPose 是一个长期优化迭代的项目，致力于业务场景下的高性能实时姿态估计算法的训练、优化和部署，因此我们十分期待来自社区的力量，欢迎分享不同业务场景中 RTMPose 的训练配置与技巧，助力更多的社区用户！</p> <p>✨ ✨ ✨</p> <ul><li><strong>如果你是 RTMPose 的新用户，我们热切希望你能参与<a href="https://uua478.fanqier.cn/f/xxmynrki" target="_blank" rel="noopener noreferrer">这份问卷<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>/<a href="https://docs.google.com/forms/d/e/1FAIpQLSfzwWr3eNlDzhU98qzk2Eph44Zio6hi5r0iSwfO9wSARkHdWg/viewform?usp=sf_link" target="_blank" rel="noopener noreferrer">Google Questionnaire<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>，这对于我们的工作非常重要！</strong></li></ul> <p>✨ ✨ ✨</p> <p>欢迎加入我们的社区交流群获得更多帮助：</p> <ul><li>微信用户群</li></ul> <div align="left"><img src="https://user-images.githubusercontent.com/13503330/222647056-875bed70-85ec-455c-9016-c024772915c4.jpg" width="200"> <ul><li>Discord Group:
<ul><li>🙌 https://discord.gg/raweFPmdzG 🙌</li></ul></li></ul> <h2 id="⚡-pipeline-性能-🔝"><a href="#⚡-pipeline-性能-🔝" class="header-anchor">#</a> ⚡ Pipeline 性能 <a href="#-table-of-contents">🔝</a></h2> <p><strong>说明</strong></p> <ul><li>Pipeline 速度测试时开启了隔帧检测策略，默认检测间隔为 5 帧。</li> <li>环境配置:
<ul><li>torch &gt;= 1.7.1</li> <li>onnxruntime 1.12.1</li> <li>TensorRT 8.4.3.1</li> <li>cuDNN 8.3.2</li> <li>CUDA 11.3</li></ul></li></ul> <table><thead><tr><th style="text-align:left;">Detection Config</th> <th style="text-align:left;">Pose Config</th> <th style="text-align:center;">Input Size<sup><br>(Det/Pose)</sup></th> <th style="text-align:center;">Model AP<sup><br>(COCO)</sup></th> <th style="text-align:center;">Pipeline AP<sup><br>(COCO)</sup></th> <th style="text-align:center;">Params (M)<sup><br>(Det/Pose)</sup></th> <th style="text-align:center;">Flops (G)<sup><br>(Det/Pose)</sup></th> <th style="text-align:center;">ORT-Latency(ms)<sup><br>(i7-11700)</sup></th> <th style="text-align:center;">TRT-FP16-Latency(ms)<sup><br>(GTX 1660Ti)</sup></th> <th style="text-align:center;">Download</th></tr></thead> <tbody><tr><td style="text-align:left;"><a href="./rtmdet/person/rtmdet_nano_320-8xb32_coco-person.py">RTMDet-nano</a></td> <td style="text-align:left;"><a href="./rtmpose/body_2d_keypoint/rtmpose-t_8xb256-420e_coco-256x192.py">RTMPose-t</a></td> <td style="text-align:center;">320x320<br>256x192</td> <td style="text-align:center;">40.3<br>67.1</td> <td style="text-align:center;">64.4</td> <td style="text-align:center;">0.99<br>3.34</td> <td style="text-align:center;">0.31<br>0.36</td> <td style="text-align:center;">12.403</td> <td style="text-align:center;">2.467</td> <td style="text-align:center;"><a href="https://download.openmmlab.com/mmpose/v1/projects/rtmpose/rtmdet_nano_8xb32-100e_coco-obj365-person-05d8511e.pth" target="_blank" rel="noopener noreferrer">det<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a><br><a href="https://download.openmmlab.com/mmpose/v1/projects/rtmposev1/rtmpose-tiny_simcc-aic-coco_pt-aic-coco_420e-256x192-cfc8f33d_20230126.pth" target="_blank" rel="noopener noreferrer">pose<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td></tr> <tr><td style="text-align:left;"><a href="./rtmdet/person/rtmdet_nano_320-8xb32_coco-person.py">RTMDet-nano</a></td> <td style="text-align:left;"><a href="./rtmpose/body_2d_keypoint/rtmpose-s_8xb256-420e_coco-256x192.py">RTMPose-s</a></td> <td style="text-align:center;">320x320<br>256x192</td> <td style="text-align:center;">40.3<br>71.1</td> <td style="text-align:center;">68.5</td> <td style="text-align:center;">0.99<br>5.47</td> <td style="text-align:center;">0.31<br>0.68</td> <td style="text-align:center;">16.658</td> <td style="text-align:center;">2.730</td> <td style="text-align:center;"><a href="https://download.openmmlab.com/mmpose/v1/projects/rtmpose/rtmdet_nano_8xb32-100e_coco-obj365-person-05d8511e.pth" target="_blank" rel="noopener noreferrer">det<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a><br><a href="https://download.openmmlab.com/mmpose/v1/projects/rtmposev1/rtmpose-s_simcc-aic-coco_pt-aic-coco_420e-256x192-fcb2599b_20230126.pth" target="_blank" rel="noopener noreferrer">pose<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td></tr> <tr><td style="text-align:left;"><a href="./rtmdet/person/rtmdet_nano_320-8xb32_coco-person.py">RTMDet-nano</a></td> <td style="text-align:left;"><a href="./rtmpose/body_2d_keypoint/rtmpose-m_8xb256-420e_coco-256x192.py">RTMPose-m</a></td> <td style="text-align:center;">320x320<br>256x192</td> <td style="text-align:center;">40.3<br>75.3</td> <td style="text-align:center;">73.2</td> <td style="text-align:center;">0.99<br>13.59</td> <td style="text-align:center;">0.31<br>1.93</td> <td style="text-align:center;">26.613</td> <td style="text-align:center;">4.312</td> <td style="text-align:center;"><a href="https://download.openmmlab.com/mmpose/v1/projects/rtmpose/rtmdet_nano_8xb32-100e_coco-obj365-person-05d8511e.pth" target="_blank" rel="noopener noreferrer">det<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a><br><a href="https://download.openmmlab.com/mmpose/v1/projects/rtmposev1/rtmpose-m_simcc-aic-coco_pt-aic-coco_420e-256x192-63eb25f7_20230126.pth" target="_blank" rel="noopener noreferrer">pose<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td></tr> <tr><td style="text-align:left;"><a href="./rtmdet/person/rtmdet_nano_320-8xb32_coco-person.py">RTMDet-nano</a></td> <td style="text-align:left;"><a href="./rtmpose/body_2d_keypoint/rtmpose-l_8xb256-420e_coco-256x192.py">RTMPose-l</a></td> <td style="text-align:center;">320x320<br>256x192</td> <td style="text-align:center;">40.3<br>76.3</td> <td style="text-align:center;">74.2</td> <td style="text-align:center;">0.99<br>27.66</td> <td style="text-align:center;">0.31<br>4.16</td> <td style="text-align:center;">36.311</td> <td style="text-align:center;">4.644</td> <td style="text-align:center;"><a href="https://download.openmmlab.com/mmpose/v1/projects/rtmpose/rtmdet_nano_8xb32-100e_coco-obj365-person-05d8511e.pth" target="_blank" rel="noopener noreferrer">det<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a><br><a href="https://download.openmmlab.com/mmpose/v1/projects/rtmposev1/rtmpose-l_simcc-aic-coco_pt-aic-coco_420e-256x192-f016ffe0_20230126.pth" target="_blank" rel="noopener noreferrer">pose<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td></tr> <tr><td style="text-align:left;"><a href="./rtmdet/person/rtmdet_m_640-8xb32_coco-person.py">RTMDet-m</a></td> <td style="text-align:left;"><a href="./rtmpose/body_2d_keypoint/rtmpose-m_8xb256-420e_coco-256x192.py">RTMPose-m</a></td> <td style="text-align:center;">640x640<br>256x192</td> <td style="text-align:center;">62.5<br>75.3</td> <td style="text-align:center;">75.7</td> <td style="text-align:center;">24.66<br>13.59</td> <td style="text-align:center;">38.95<br>1.93</td> <td style="text-align:center;">-</td> <td style="text-align:center;">6.923</td> <td style="text-align:center;"><a href="https://download.openmmlab.com/mmpose/v1/projects/rtmpose/rtmdet_m_8xb32-100e_coco-obj365-person-235e8209.pth" target="_blank" rel="noopener noreferrer">det<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a><br><a href="https://download.openmmlab.com/mmpose/v1/projects/rtmposev1/rtmpose-m_simcc-aic-coco_pt-aic-coco_420e-256x192-63eb25f7_20230126.pth" target="_blank" rel="noopener noreferrer">pose<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td></tr> <tr><td style="text-align:left;"><a href="./rtmdet/person/rtmdet_m_640-8xb32_coco-person.py">RTMDet-m</a></td> <td style="text-align:left;"><a href="./rtmpose/body_2d_keypoint/rtmpose-l_8xb256-420e_coco-256x192.py">RTMPose-l</a></td> <td style="text-align:center;">640x640<br>256x192</td> <td style="text-align:center;">62.5<br>76.3</td> <td style="text-align:center;">76.6</td> <td style="text-align:center;">24.66<br>27.66</td> <td style="text-align:center;">38.95<br>4.16</td> <td style="text-align:center;">-</td> <td style="text-align:center;">7.204</td> <td style="text-align:center;"><a href="https://download.openmmlab.com/mmpose/v1/projects/rtmpose/rtmdet_m_8xb32-100e_coco-obj365-person-235e8209.pth" target="_blank" rel="noopener noreferrer">det<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a><br><a href="https://download.openmmlab.com/mmpose/v1/projects/rtmposev1/rtmpose-l_simcc-aic-coco_pt-aic-coco_420e-256x192-f016ffe0_20230126.pth" target="_blank" rel="noopener noreferrer">pose<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td></tr></tbody></table> <h2 id="📊-模型库-🔝"><a href="#📊-模型库-🔝" class="header-anchor">#</a> 📊 模型库 <a href="#-table-of-contents">🔝</a></h2> <p><strong>说明</strong></p> <ul><li>此处提供的模型采用了多数据集联合训练以提高性能，模型指标不适用于学术比较。</li> <li>表格中为开启了 Flip Test 的测试结果。</li> <li>RTMPose 在更多公开数据集上的性能指标可以前往 <a href="https://mmpose.readthedocs.io/en/latest/model_zoo_papers/algorithms.html" target="_blank" rel="noopener noreferrer">Model Zoo<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 查看。</li> <li>RTMPose 在更多硬件平台上的推理速度可以前往 <a href="/pages/机器视觉/benchmark/README_CN.html">Benchmark</a> 查看。</li> <li>如果你有希望我们支持的数据集，欢迎<a href="https://uua478.fanqier.cn/f/xxmynrki" target="_blank" rel="noopener noreferrer">联系我们<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>/<a href="https://docs.google.com/forms/d/e/1FAIpQLSfzwWr3eNlDzhU98qzk2Eph44Zio6hi5r0iSwfO9wSARkHdWg/viewform?usp=sf_link" target="_blank" rel="noopener noreferrer">Google Questionnaire<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>！</li></ul> <h3 id="人体-2d-关键点-17-keypoints"><a href="#人体-2d-关键点-17-keypoints" class="header-anchor">#</a> 人体 2d 关键点 (17 Keypoints)</h3> <table><thead><tr><th style="text-align:center;">Config</th> <th style="text-align:center;">Input Size</th> <th style="text-align:center;">AP<sup><br>(COCO)</sup></th> <th style="text-align:center;">Params(M)</th> <th style="text-align:center;">FLOPS(G)</th> <th style="text-align:center;">ORT-Latency(ms)<sup><br>(i7-11700)</sup></th> <th style="text-align:center;">TRT-FP16-Latency(ms)<sup><br>(GTX 1660Ti)</sup></th> <th style="text-align:center;">ncnn-FP16-Latency(ms)<sup><br>(Snapdragon 865)</sup></th> <th style="text-align:center;">Download</th></tr></thead> <tbody><tr><td style="text-align:center;"><a href="./rtmpose/body_2d_keypoint/rtmpose-t_8xb256-420e_coco-256x192.py">RTMPose-t</a></td> <td style="text-align:center;">256x192</td> <td style="text-align:center;">68.5</td> <td style="text-align:center;">3.34</td> <td style="text-align:center;">0.36</td> <td style="text-align:center;">3.20</td> <td style="text-align:center;">1.06</td> <td style="text-align:center;">9.02</td> <td style="text-align:center;"><a href="https://download.openmmlab.com/mmpose/v1/projects/rtmposev1/rtmpose-tiny_simcc-aic-coco_pt-aic-coco_420e-256x192-cfc8f33d_20230126.pth" target="_blank" rel="noopener noreferrer">Model<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td></tr> <tr><td style="text-align:center;"><a href="./rtmpose/body_2d_keypoint/rtmpose-s_8xb256-420e_coco-256x192.py">RTMPose-s</a></td> <td style="text-align:center;">256x192</td> <td style="text-align:center;">72.2</td> <td style="text-align:center;">5.47</td> <td style="text-align:center;">0.68</td> <td style="text-align:center;">4.48</td> <td style="text-align:center;">1.39</td> <td style="text-align:center;">13.89</td> <td style="text-align:center;"><a href="https://download.openmmlab.com/mmpose/v1/projects/rtmposev1/rtmpose-s_simcc-aic-coco_pt-aic-coco_420e-256x192-fcb2599b_20230126.pth" target="_blank" rel="noopener noreferrer">Model<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td></tr> <tr><td style="text-align:center;"><a href="./rtmpose/body_2d_keypoint/rtmpose-m_8xb256-420e_coco-256x192.py">RTMPose-m</a></td> <td style="text-align:center;">256x192</td> <td style="text-align:center;">75.8</td> <td style="text-align:center;">13.59</td> <td style="text-align:center;">1.93</td> <td style="text-align:center;">11.06</td> <td style="text-align:center;">2.29</td> <td style="text-align:center;">26.44</td> <td style="text-align:center;"><a href="https://download.openmmlab.com/mmpose/v1/projects/rtmposev1/rtmpose-m_simcc-aic-coco_pt-aic-coco_420e-256x192-63eb25f7_20230126.pth" target="_blank" rel="noopener noreferrer">Model<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td></tr> <tr><td style="text-align:center;"><a href="./rtmpose/body_2d_keypoint/rtmpose-l_8xb256-420e_coco-256x192.py">RTMPose-l</a></td> <td style="text-align:center;">256x192</td> <td style="text-align:center;">76.5</td> <td style="text-align:center;">27.66</td> <td style="text-align:center;">4.16</td> <td style="text-align:center;">18.85</td> <td style="text-align:center;">3.46</td> <td style="text-align:center;">45.37</td> <td style="text-align:center;"><a href="https://download.openmmlab.com/mmpose/v1/projects/rtmposev1/rtmpose-l_simcc-aic-coco_pt-aic-coco_420e-256x192-f016ffe0_20230126.pth" target="_blank" rel="noopener noreferrer">Model<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td></tr> <tr><td style="text-align:center;"><a href="./rtmpose/body_2d_keypoint/rtmpose-m_8xb256-420e_coco-384x288.py">RTMPose-m</a></td> <td style="text-align:center;">384x288</td> <td style="text-align:center;">77.0</td> <td style="text-align:center;">13.72</td> <td style="text-align:center;">4.33</td> <td style="text-align:center;">24.78</td> <td style="text-align:center;">3.66</td> <td style="text-align:center;">-</td> <td style="text-align:center;"><a href="https://download.openmmlab.com/mmpose/v1/projects/rtmposev1/rtmpose-m_simcc-aic-coco_pt-aic-coco_420e-384x288-a62a0b32_20230228.pth" target="_blank" rel="noopener noreferrer">Model<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td></tr> <tr><td style="text-align:center;"><a href="./rtmpose/body_2d_keypoint/rtmpose-l_8xb256-420e_coco-384x288.py">RTMPose-l</a></td> <td style="text-align:center;">384x288</td> <td style="text-align:center;">77.3</td> <td style="text-align:center;">27.79</td> <td style="text-align:center;">9.35</td> <td style="text-align:center;">-</td> <td style="text-align:center;">6.05</td> <td style="text-align:center;">-</td> <td style="text-align:center;"><a href="https://download.openmmlab.com/mmpose/v1/projects/rtmposev1/rtmpose-l_simcc-aic-coco_pt-aic-coco_420e-384x288-97d6cb0f_20230228.pth" target="_blank" rel="noopener noreferrer">Model<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td></tr></tbody></table> <h4 id="模型剪枝"><a href="#模型剪枝" class="header-anchor">#</a> 模型剪枝</h4> <p><strong>说明</strong></p> <ul><li>模型剪枝由 <a href="https://github.com/open-mmlab/mmrazor" target="_blank" rel="noopener noreferrer">MMRazor<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 提供</li></ul> <table><thead><tr><th style="text-align:center;">Config</th> <th style="text-align:center;">Input Size</th> <th style="text-align:center;">AP<sup><br>(COCO)</sup></th> <th style="text-align:center;">Params(M)</th> <th style="text-align:center;">FLOPS(G)</th> <th style="text-align:center;">ORT-Latency(ms)<sup><br>(i7-11700)</sup></th> <th style="text-align:center;">TRT-FP16-Latency(ms)<sup><br>(GTX 1660Ti)</sup></th> <th style="text-align:center;">ncnn-FP16-Latency(ms)<sup><br>(Snapdragon 865)</sup></th> <th style="text-align:center;">Download</th></tr></thead> <tbody><tr><td style="text-align:center;">RTMPose-s-aic-coco-pruned</td> <td style="text-align:center;">256x192</td> <td style="text-align:center;">69.4</td> <td style="text-align:center;">3.43</td> <td style="text-align:center;">0.35</td> <td style="text-align:center;">-</td> <td style="text-align:center;">-</td> <td style="text-align:center;">-</td> <td style="text-align:center;"><a href="https://download.openmmlab.com/mmrazor/v1/pruning/group_fisher/rtmpose-s/group_fisher_finetune_rtmpose-s_8xb256-420e_aic-coco-256x192.pth" target="_blank" rel="noopener noreferrer">Model<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td></tr></tbody></table> <p>更多信息，请参考 <a href="/pages/机器视觉/rtmpose/pruning/">GroupFisher Pruning for RTMPose</a>.</p> <h3 id="人体全身-2d-关键点-133-keypoints"><a href="#人体全身-2d-关键点-133-keypoints" class="header-anchor">#</a> 人体全身 2d 关键点 (133 Keypoints)</h3> <table><thead><tr><th style="text-align:left;">Config</th> <th style="text-align:center;">Input Size</th> <th style="text-align:center;">Whole AP</th> <th style="text-align:center;">Whole AR</th> <th style="text-align:center;">FLOPS(G)</th> <th style="text-align:center;">ORT-Latency(ms)<sup><br>(i7-11700)</sup></th> <th style="text-align:center;">TRT-FP16-Latency(ms)<sup><br>(GTX 1660Ti)</sup></th> <th style="text-align:center;">Download</th></tr></thead> <tbody><tr><td style="text-align:left;"><a href="./rtmpose/wholebody_2d_keypoint/rtmpose-m_8xb64-270e_coco-wholebody-256x192.py">RTMPose-m</a></td> <td style="text-align:center;">256x192</td> <td style="text-align:center;">60.4</td> <td style="text-align:center;">66.7</td> <td style="text-align:center;">2.22</td> <td style="text-align:center;">13.50</td> <td style="text-align:center;">4.00</td> <td style="text-align:center;"><a href="https://download.openmmlab.com/mmpose/v1/projects/rtmposev1/rtmpose-m_simcc-coco-wholebody_pt-aic-coco_270e-256x192-cd5e845c_20230123.pth" target="_blank" rel="noopener noreferrer">Model<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td></tr> <tr><td style="text-align:left;"><a href="./rtmpose/wholebody_2d_keypoint/rtmpose-l_8xb64-270e_coco-wholebody-256x192.py">RTMPose-l</a></td> <td style="text-align:center;">256x192</td> <td style="text-align:center;">63.2</td> <td style="text-align:center;">69.4</td> <td style="text-align:center;">4.52</td> <td style="text-align:center;">23.41</td> <td style="text-align:center;">5.67</td> <td style="text-align:center;"><a href="https://download.openmmlab.com/mmpose/v1/projects/rtmposev1/rtmpose-l_simcc-coco-wholebody_pt-aic-coco_270e-256x192-6f206314_20230124.pth" target="_blank" rel="noopener noreferrer">Model<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td></tr> <tr><td style="text-align:left;"><a href="./rtmpose/wholebody_2d_keypoint/rtmpose-l_8xb32-270e_coco-wholebody-384x288.py">RTMPose-l</a></td> <td style="text-align:center;">384x288</td> <td style="text-align:center;">67.0</td> <td style="text-align:center;">72.3</td> <td style="text-align:center;">10.07</td> <td style="text-align:center;">44.58</td> <td style="text-align:center;">7.68</td> <td style="text-align:center;"><a href="https://download.openmmlab.com/mmpose/v1/projects/rtmposev1/rtmpose-l_simcc-coco-wholebody_pt-aic-coco_270e-384x288-eaeb96c8_20230125.pth" target="_blank" rel="noopener noreferrer">Model<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td></tr></tbody></table> <h3 id="动物-2d-关键点-17-keypoints"><a href="#动物-2d-关键点-17-keypoints" class="header-anchor">#</a> 动物 2d 关键点 (17 Keypoints)</h3> <table><thead><tr><th style="text-align:center;">Config</th> <th style="text-align:center;">Input Size</th> <th style="text-align:center;">AP<sup><br>(AP10K)</sup></th> <th style="text-align:center;">FLOPS(G)</th> <th style="text-align:center;">ORT-Latency(ms)<sup><br>(i7-11700)</sup></th> <th style="text-align:center;">TRT-FP16-Latency(ms)<sup><br>(GTX 1660Ti)</sup></th> <th style="text-align:center;">Download</th></tr></thead> <tbody><tr><td style="text-align:center;"><a href="./rtmpose/animal_2d_keypoint/rtmpose-m_8xb64-210e_ap10k-256x256.py">RTMPose-m</a></td> <td style="text-align:center;">256x256</td> <td style="text-align:center;">72.2</td> <td style="text-align:center;">2.57</td> <td style="text-align:center;">14.157</td> <td style="text-align:center;">2.404</td> <td style="text-align:center;"><a href="https://download.openmmlab.com/mmpose/v1/projects/rtmposev1/rtmpose-m_simcc-ap10k_pt-aic-coco_210e-256x256-7a041aa1_20230206.pth" target="_blank" rel="noopener noreferrer">Model<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td></tr></tbody></table> <h3 id="脸部-2d-关键点-106-keypoints"><a href="#脸部-2d-关键点-106-keypoints" class="header-anchor">#</a> 脸部 2d 关键点 (106 Keypoints)</h3> <div align="center"><img src="https://user-images.githubusercontent.com/13503330/233819275-0523118b-e6c2-41f7-8b72-324969310480.gif" width="450" height="250/"></div> <table><thead><tr><th style="text-align:center;">Config</th> <th style="text-align:center;">Input Size</th> <th style="text-align:center;">NME<sup><br>(LaPa)</sup></th> <th style="text-align:center;">FLOPS(G)</th> <th style="text-align:center;">ORT-Latency(ms)<sup><br>(i7-11700)</sup></th> <th style="text-align:center;">TRT-FP16-Latency(ms)<sup><br>(GTX 1660Ti)</sup></th> <th style="text-align:center;">Download</th></tr></thead> <tbody><tr><td style="text-align:center;"><a href="./rtmpose/face_2d_keypoint/rtmpose-m_8xb64-120e_lapa-256x256.py">RTMPose-m (alpha version)</a></td> <td style="text-align:center;">256x256</td> <td style="text-align:center;">1.70</td> <td style="text-align:center;">-</td> <td style="text-align:center;">-</td> <td style="text-align:center;">-</td> <td style="text-align:center;">Coming soon</td></tr></tbody></table> <h3 id="手部-2d-关键点"><a href="#手部-2d-关键点" class="header-anchor">#</a> 手部 2d 关键点</h3> <p>Coming soon</p> <h3 id="预训练模型"><a href="#预训练模型" class="header-anchor">#</a> 预训练模型</h3> <p>我们提供了 UDP 预训练的 CSPNeXt 模型参数，训练配置请参考 <a href="/pages/机器视觉/rtmpose/pretrain_cspnext_udp/">pretrain_cspnext_udp folder</a>。</p> <table><thead><tr><th style="text-align:center;">Model</th> <th style="text-align:center;">Input Size</th> <th style="text-align:center;">Params(M)</th> <th style="text-align:center;">Flops(G)</th> <th style="text-align:center;">AP<sup><br>(GT)</sup></th> <th style="text-align:center;">AR<sup><br>(GT)</sup></th> <th style="text-align:center;">Download</th></tr></thead> <tbody><tr><td style="text-align:center;">CSPNeXt-t</td> <td style="text-align:center;">256x192</td> <td style="text-align:center;">6.03</td> <td style="text-align:center;">1.43</td> <td style="text-align:center;">65.5</td> <td style="text-align:center;">68.9</td> <td style="text-align:center;"><a href="https://download.openmmlab.com/mmpose/v1/projects/rtmpose/cspnext-tiny_udp-aic-coco_210e-256x192-cbed682d_20230130.pth" target="_blank" rel="noopener noreferrer">Model<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td></tr> <tr><td style="text-align:center;">CSPNeXt-s</td> <td style="text-align:center;">256x192</td> <td style="text-align:center;">8.58</td> <td style="text-align:center;">1.78</td> <td style="text-align:center;">70.0</td> <td style="text-align:center;">73.3</td> <td style="text-align:center;"><a href="https://download.openmmlab.com/mmpose/v1/projects/rtmpose/cspnext-s_udp-aic-coco_210e-256x192-92f5a029_20230130.pth" target="_blank" rel="noopener noreferrer">Model<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td></tr> <tr><td style="text-align:center;">CSPNeXt-m</td> <td style="text-align:center;">256x192</td> <td style="text-align:center;">13.05</td> <td style="text-align:center;">3.06</td> <td style="text-align:center;">74.8</td> <td style="text-align:center;">77.7</td> <td style="text-align:center;"><a href="https://download.openmmlab.com/mmpose/v1/projects/rtmpose/cspnext-m_udp-aic-coco_210e-256x192-f2f7d6f6_20230130.pth" target="_blank" rel="noopener noreferrer">Model<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td></tr> <tr><td style="text-align:center;">CSPNeXt-l</td> <td style="text-align:center;">256x192</td> <td style="text-align:center;">32.44</td> <td style="text-align:center;">5.33</td> <td style="text-align:center;">77.2</td> <td style="text-align:center;">79.9</td> <td style="text-align:center;"><a href="https://download.openmmlab.com/mmpose/v1/projects/rtmpose/cspnext-l_udp-aic-coco_210e-256x192-273b7631_20230130.pth" target="_blank" rel="noopener noreferrer">Model<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td></tr></tbody></table> <p>我们提供了 ImageNet 分类训练的 CSPNeXt 模型参数，更多细节请参考 <a href="https://github.com/open-mmlab/mmdetection/blob/latest/configs/rtmdet/README.md#classification" target="_blank" rel="noopener noreferrer">RTMDet<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。</p> <table><thead><tr><th style="text-align:center;">Model</th> <th style="text-align:center;">Input Size</th> <th style="text-align:center;">Params(M)</th> <th style="text-align:center;">Flops(G)</th> <th style="text-align:center;">Top-1 (%)</th> <th style="text-align:center;">Top-5 (%)</th> <th style="text-align:center;">Download</th></tr></thead> <tbody><tr><td style="text-align:center;">CSPNeXt-tiny</td> <td style="text-align:center;">224x224</td> <td style="text-align:center;">2.73</td> <td style="text-align:center;">0.34</td> <td style="text-align:center;">69.44</td> <td style="text-align:center;">89.45</td> <td style="text-align:center;"><a href="https://download.openmmlab.com/mmdetection/v3.0/rtmdet/cspnext_rsb_pretrain/cspnext-tiny_imagenet_600e-3a2dd350.pth" target="_blank" rel="noopener noreferrer">Model<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td></tr> <tr><td style="text-align:center;">CSPNeXt-s</td> <td style="text-align:center;">224x224</td> <td style="text-align:center;">4.89</td> <td style="text-align:center;">0.66</td> <td style="text-align:center;">74.41</td> <td style="text-align:center;">92.23</td> <td style="text-align:center;"><a href="https://download.openmmlab.com/mmdetection/v3.0/rtmdet/cspnext_rsb_pretrain/cspnext-s_imagenet_600e-ea671761.pth" target="_blank" rel="noopener noreferrer">Model<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td></tr> <tr><td style="text-align:center;">CSPNeXt-m</td> <td style="text-align:center;">224x224</td> <td style="text-align:center;">13.05</td> <td style="text-align:center;">1.93</td> <td style="text-align:center;">79.27</td> <td style="text-align:center;">94.79</td> <td style="text-align:center;"><a href="https://download.openmmlab.com/mmdetection/v3.0/rtmdet/cspnext_rsb_pretrain/cspnext-m_8xb256-rsb-a1-600e_in1k-ecb3bbd9.pth" target="_blank" rel="noopener noreferrer">Model<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td></tr> <tr><td style="text-align:center;">CSPNeXt-l</td> <td style="text-align:center;">224x224</td> <td style="text-align:center;">27.16</td> <td style="text-align:center;">4.19</td> <td style="text-align:center;">81.30</td> <td style="text-align:center;">95.62</td> <td style="text-align:center;"><a href="https://download.openmmlab.com/mmdetection/v3.0/rtmdet/cspnext_rsb_pretrain/cspnext-l_8xb256-rsb-a1-600e_in1k-6a760974.pth" target="_blank" rel="noopener noreferrer">Model<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td></tr></tbody></table> <h2 id="👀-可视化-🔝"><a href="#👀-可视化-🔝" class="header-anchor">#</a> 👀 可视化 <a href="#-table-of-contents">🔝</a></h2> <div align="center"><img src="https://user-images.githubusercontent.com/13503330/221795678-2c4ae2ec-ac23-4368-8083-0ebeb29f0d3c.gif" width="900/"> <img src="https://user-images.githubusercontent.com/13503330/219270443-421d9b02-fcec-46de-90f2-ce769c67575a.png" width="900"></div> <h2 id="😎-快速尝试-🔝"><a href="#😎-快速尝试-🔝" class="header-anchor">#</a> 😎 快速尝试 <a href="#-table-of-contents">🔝</a></h2> <p>我们提供了两种途径来让用户尝试 RTMPose 模型：</p> <ul><li>MMPose demo 脚本</li> <li>MMDeploy SDK 预编译包 （推荐）</li></ul> <h3 id="mmpose-demo-脚本"><a href="#mmpose-demo-脚本" class="header-anchor">#</a> MMPose demo 脚本</h3> <p>通过 MMPose 提供的 demo 脚本可以基于 Pytorch 快速进行<a href="https://mmpose.readthedocs.io/en/latest/user_guides/inference.html" target="_blank" rel="noopener noreferrer">模型推理<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>和效果验证。</p> <p><strong>提示：</strong></p> <ul><li>基于 Pytorch 推理并不能达到 RTMPose 模型的最大推理速度，只用于模型效果验证。</li> <li>输入模型路径可以是本地路径，也可以是下载链接。</li></ul> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment"># 前往 mmpose 目录</span>
<span class="token builtin class-name">cd</span> <span class="token variable">${PATH_TO_MMPOSE}</span>

<span class="token comment"># RTMDet 与 RTMPose 联合推理</span>
<span class="token comment"># 输入模型路径可以是本地路径，也可以是下载链接。</span>
python demo/topdown_demo_with_mmdet.py <span class="token punctuation">\</span>
    projects/rtmpose/rtmdet/person/rtmdet_nano_320-8xb32_coco-person.py <span class="token punctuation">\</span>
    https://download.openmmlab.com/mmpose/v1/projects/rtmpose/rtmdet_nano_8xb32-100e_coco-obj365-person-05d8511e.pth <span class="token punctuation">\</span>
    projects/rtmpose/rtmpose/body_2d_keypoint/rtmpose-m_8xb256-420e_coco-256x192.py <span class="token punctuation">\</span>
    https://download.openmmlab.com/mmpose/v1/projects/rtmposev1/rtmpose-m_simcc-aic-coco_pt-aic-coco_420e-256x192-63eb25f7_20230126.pth <span class="token punctuation">\</span>
    <span class="token parameter variable">--input</span> <span class="token punctuation">{</span>YOUR_TEST_IMG_or_VIDEO<span class="token punctuation">}</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">--show</span>

<span class="token comment"># 摄像头推理</span>
<span class="token comment"># 输入模型路径可以是本地路径，也可以是下载链接。</span>
python demo/topdown_demo_with_mmdet.py <span class="token punctuation">\</span>
    projects/rtmpose/rtmdet/person/rtmdet_nano_320-8xb32_coco-person.py <span class="token punctuation">\</span>
    https://download.openmmlab.com/mmpose/v1/projects/rtmpose/rtmdet_nano_8xb32-100e_coco-obj365-person-05d8511e.pth <span class="token punctuation">\</span>
    projects/rtmpose/rtmpose/body_2d_keypoint/rtmpose-m_8xb256-420e_coco-256x192.py <span class="token punctuation">\</span>
    https://download.openmmlab.com/mmpose/v1/projects/rtmposev1/rtmpose-m_simcc-aic-coco_pt-aic-coco_420e-256x192-63eb25f7_20230126.pth <span class="token punctuation">\</span>
    <span class="token parameter variable">--input</span> webcam <span class="token punctuation">\</span>
    <span class="token parameter variable">--show</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><p>效果展示：</p> <p><img src="https://user-images.githubusercontent.com/13503330/220005020-06bdf37f-6817-4681-a2c8-9dd55e4fbf1e.png" alt="topdown_inference_with_rtmdet"></p> <h3 id="mmdeploy-sdk-预编译包-推荐"><a href="#mmdeploy-sdk-预编译包-推荐" class="header-anchor">#</a> MMDeploy SDK 预编译包 （推荐）</h3> <p>MMDeploy 提供了预编译的 SDK，用于对 RTMPose 项目进行 Pipeline 推理，其中推理所用的模型为 SDK 版本。</p> <ul><li>所有的模型必须经过 <code>tools/deploy.py</code> 导出后才能使用 PoseTracker 进行推理。</li> <li>导出 SDK 版模型的教程见 <a href="#%EF%B8%8F-sdk-%E6%8E%A8%E7%90%86">SDK 推理</a>，推理的详细参数设置见 <a href="#-pipeline-%E6%8E%A8%E7%90%86">Pipeline 推理</a>。</li></ul> <h4 id="linux"><a href="#linux" class="header-anchor">#</a> Linux\</h4> <p>说明：</p> <ul><li>GCC 版本需大于 7.5</li> <li>cmake 版本需大于 3.20</li></ul> <h5 id="python-推理"><a href="#python-推理" class="header-anchor">#</a> Python 推理</h5> <ol><li>安装 mmdeploy_runtime 或者 mmdeploy_runtime_gpu</li></ol> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment"># for onnxruntime</span>
pip <span class="token function">install</span> mmdeploy-runtime

<span class="token comment"># for onnxruntime-gpu / tensorrt</span>
pip <span class="token function">install</span> mmdeploy-runtime-gpu
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><ol start="2"><li>下载预编译包：</li></ol> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment"># onnxruntime</span>
<span class="token comment"># for ubuntu</span>
<span class="token function">wget</span> <span class="token parameter variable">-c</span>  https://github.com/open-mmlab/mmdeploy/releases/download/v1.0.0/mmdeploy-1.0.0-linux-x86_64-cxx11abi.tar.gz
<span class="token comment"># 解压并将 third_party 中第三方推理库的动态库添加到 PATH</span>

<span class="token comment"># for centos7 and lower</span>
<span class="token function">wget</span> <span class="token parameter variable">-c</span> https://github.com/open-mmlab/mmdeploy/releases/download/v1.0.0/mmdeploy-1.0.0-linux-x86_64.tar.gz
<span class="token comment"># 解压并将 third_party 中第三方推理库的动态库添加到 PATH</span>

<span class="token comment"># onnxruntime-gpu / tensorrt</span>
<span class="token comment"># for ubuntu</span>
<span class="token function">wget</span> <span class="token parameter variable">-c</span>  https://github.com/open-mmlab/mmdeploy/releases/download/v1.0.0/mmdeploy-1.0.0-linux-x86_64-cxx11abi-cuda11.3.tar.gz
<span class="token comment"># 解压并将 third_party 中第三方推理库的动态库添加到 PATH</span>

<span class="token comment"># for centos7 and lower</span>
<span class="token function">wget</span> <span class="token parameter variable">-c</span> https://github.com/open-mmlab/mmdeploy/releases/download/v1.0.0/mmdeploy-1.0.0-linux-x86_64-cuda11.3.tar.gz
<span class="token comment"># 解压并将 third_party 中第三方推理库的动态库添加到 PATH</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><ol start="3"><li>下载 sdk 模型并解压到 <code>./example/python</code> 下。（该模型只用于演示，如需其他模型，请参考 <a href="#%EF%B8%8F-sdk-%E6%8E%A8%E7%90%86">SDK 推理</a>）</li></ol> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment"># rtmdet-nano + rtmpose-m for cpu sdk</span>
<span class="token function">wget</span> https://download.openmmlab.com/mmpose/v1/projects/rtmpose/rtmpose-cpu.zip

<span class="token function">unzip</span> rtmpose-cpu.zip
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><ol start="4"><li>使用 <code>pose_tracker.py</code> 进行推理：</li></ol> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment"># 进入 ./example/python</span>

<span class="token comment"># 请传入模型目录，而不是模型文件</span>
<span class="token comment"># 格式：</span>
<span class="token comment"># python pose_tracker.py cpu {det work-dir} {pose work-dir} {your_video.mp4}</span>

<span class="token comment"># 示例：</span>
python pose_tracker.py cpu rtmpose-ort/rtmdet-nano/ rtmpose-ort/rtmpose-m/ your_video.mp4

<span class="token comment"># 摄像头</span>
python pose_tracker.py cpu rtmpose-ort/rtmdet-nano/ rtmpose-ort/rtmpose-m/ <span class="token number">0</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h5 id="onnx"><a href="#onnx" class="header-anchor">#</a> ONNX</h5> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment"># 下载预编译包</span>
<span class="token function">wget</span> https://github.com/open-mmlab/mmdeploy/releases/download/v1.0.0/mmdeploy-1.0.0-linux-x86_64-cxx11abi.tar.gz

<span class="token comment"># 解压文件</span>
<span class="token function">tar</span> <span class="token parameter variable">-xzvf</span> mmdeploy-1.0.0-linux-x86_64-cxx11abi.tar.gz

<span class="token comment"># 切换到 sdk 目录</span>
<span class="token builtin class-name">cd</span> mmdeploy-1.0.0-linux-x86_64-cxx11abi

<span class="token comment"># 设置环境变量</span>
<span class="token builtin class-name">source</span> set_env.sh

<span class="token comment"># 如果系统中没有安装 opencv 3+，请执行以下命令。如果已安装，可略过</span>
<span class="token function">bash</span> install_opencv.sh

<span class="token comment"># 编译可执行程序</span>
<span class="token function">bash</span> build_sdk.sh

<span class="token comment"># 图片推理</span>
<span class="token comment"># 请传入模型目录，而不是模型文件</span>
./bin/det_pose rtmpose-ort/rtmdet-nano/ rtmpose-ort/rtmpose-m/ your_img.jpg <span class="token parameter variable">--device</span> cpu

<span class="token comment"># 视频推理</span>
<span class="token comment"># 请传入模型目录，而不是模型文件</span>
./bin/pose_tracker rtmpose-ort/rtmdet-nano/ rtmpose-ort/rtmpose-m/ your_video.mp4 <span class="token parameter variable">--device</span> cpu

<span class="token comment"># 摄像头推理</span>
<span class="token comment"># 请传入模型目录，而不是模型文件</span>
./bin/pose_tracker rtmpose-ort/rtmdet-nano/ rtmpose-ort/rtmpose-m/ <span class="token number">0</span> <span class="token parameter variable">--device</span> cpu
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br></div></div><h5 id="tensorrt"><a href="#tensorrt" class="header-anchor">#</a> TensorRT</h5> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment"># 下载预编译包</span>
<span class="token function">wget</span> https://github.com/open-mmlab/mmdeploy/releases/download/v1.0.0/mmdeploy-1.0.0-linux-x86_64-cxx11abi-cuda11.3.tar.gz

<span class="token comment"># 解压文件</span>
<span class="token function">tar</span> <span class="token parameter variable">-xzvf</span> mmdeploy-1.0.0-linux-x86_64-cxx11abi-cuda11.3.tar.gz

<span class="token comment"># 切换到 sdk 目录</span>
<span class="token builtin class-name">cd</span> mmdeploy-1.0.0-linux-x86_64-cxx11abi-cuda11.3

<span class="token comment"># 设置环境变量</span>
<span class="token builtin class-name">source</span> set_env.sh

<span class="token comment"># 如果系统中没有安装 opencv 3+，请执行以下命令。如果已安装，可略过</span>
<span class="token function">bash</span> install_opencv.sh

<span class="token comment"># 编译可执行程序</span>
<span class="token function">bash</span> build_sdk.sh

<span class="token comment"># 图片推理</span>
<span class="token comment"># 请传入模型目录，而不是模型文件</span>
./bin/det_pose rtmpose-ort/rtmdet-nano/ rtmpose-ort/rtmpose-m/ your_img.jpg <span class="token parameter variable">--device</span> cuda

<span class="token comment"># 视频推理</span>
<span class="token comment"># 请传入模型目录，而不是模型文件</span>
./bin/pose_tracker rtmpose-ort/rtmdet-nano/ rtmpose-ort/rtmpose-m/ your_video.mp4 <span class="token parameter variable">--device</span> cuda

<span class="token comment"># 摄像头推理</span>
<span class="token comment"># 请传入模型目录，而不是模型文件</span>
./bin/pose_tracker rtmpose-ort/rtmdet-nano/ rtmpose-ort/rtmpose-m/ <span class="token number">0</span> <span class="token parameter variable">--device</span> cuda
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br></div></div><p>详细参数设置见 <a href="#-pipeline-%E6%8E%A8%E7%90%86">Pipeline 推理</a>。</p> <h4 id="windows"><a href="#windows" class="header-anchor">#</a> Windows</h4> <h5 id="python-推理-2"><a href="#python-推理-2" class="header-anchor">#</a> Python 推理</h5> <ol><li>安装 mmdeploy_runtime 或者 mmdeploy_runtime_gpu</li></ol> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment"># for onnxruntime</span>
pip <span class="token function">install</span> mmdeploy-runtime
<span class="token comment"># 下载 [sdk](https://github.com/open-mmlab/mmdeploy/releases/download/v1.0.0/mmdeploy-1.0.0-windows-amd64.zip) 并将 third_party 中第三方推理库的动态库添加到 PATH</span>

<span class="token comment"># for onnxruntime-gpu / tensorrt</span>
pip <span class="token function">install</span> mmdeploy-runtime-gpu
<span class="token comment"># 下载 [sdk](https://github.com/open-mmlab/mmdeploy/releases/download/v1.0.0/mmdeploy-1.0.0-windows-amd64-cuda11.3.zip) 并将 third_party 中第三方推理库的动态库添加到 PATH</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><ol start="2"><li>下载 sdk 模型并解压到 <code>./example/python</code> 下。（该模型只用于演示，如需其他模型，请参考 <a href="#%EF%B8%8F-sdk-%E6%8E%A8%E7%90%86">SDK 推理</a>）</li></ol> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment"># rtmdet-nano + rtmpose-m for cpu sdk</span>
<span class="token function">wget</span> https://download.openmmlab.com/mmpose/v1/projects/rtmpose/rtmpose-cpu.zip

<span class="token function">unzip</span> rtmpose-cpu.zip
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><ol start="3"><li>使用 <code>pose_tracker.py</code> 进行推理：</li></ol> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment"># 进入 ./example/python</span>
<span class="token comment"># 请传入模型目录，而不是模型文件</span>
python pose_tracker.py cpu rtmpose-ort/rtmdet-nano/ rtmpose-ort/rtmpose-m/ your_video.mp4

<span class="token comment"># 摄像头</span>
<span class="token comment"># 请传入模型目录，而不是模型文件</span>
python pose_tracker.py cpu rtmpose-ort/rtmdet-nano/ rtmpose-ort/rtmpose-m/ <span class="token number">0</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h5 id="可执行文件推理"><a href="#可执行文件推理" class="header-anchor">#</a> 可执行文件推理</h5> <ol><li>安装 <a href="https://cmake.org/download/" target="_blank" rel="noopener noreferrer">cmake<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。</li> <li>前往 <a href="https://github.com/open-mmlab/mmdeploy/releases" target="_blank" rel="noopener noreferrer">mmdeploy<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 下载 win 预编译包。</li> <li>解压文件，进入 sdk 目录。</li> <li>使用管理员权限打开 PowerShell，执行以下命令：</li></ol> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>set-ExecutionPolicy RemoteSigned
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ol start="5"><li>安装 OpenCV：</li></ol> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment"># in sdk folder:</span>
.<span class="token punctuation">\</span>install_opencv.ps1
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ol start="6"><li>配置环境变量：</li></ol> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment"># in sdk folder:</span>
<span class="token builtin class-name">.</span> .<span class="token punctuation">\</span>set_env.ps1
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ol start="7"><li>编译 sdk：</li></ol> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment"># in sdk folder:</span>
<span class="token comment"># 如果你通过 .\install_opencv.ps1 安装 opencv，直接运行如下指令：</span>
.<span class="token punctuation">\</span>build_sdk.ps1
<span class="token comment"># 如果你自行安装了 opencv，需要指定 OpenCVConfig.cmake 的路径：</span>
.<span class="token punctuation">\</span>build_sdk.ps1 <span class="token string">&quot;path/to/folder/of/OpenCVConfig.cmake&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><ol start="8"><li>可执行文件会在如下路径生成：</li></ol> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>example<span class="token punctuation">\</span>cpp<span class="token punctuation">\</span>build<span class="token punctuation">\</span>Release
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="👨‍🏫-模型训练-🔝"><a href="#👨‍🏫-模型训练-🔝" class="header-anchor">#</a> 👨‍🏫 模型训练 <a href="#-table-of-contents">🔝</a></h2> <p>请参考 <a href="https://mmpose.readthedocs.io/en/latest/user_guides/train_and_test.html" target="_blank" rel="noopener noreferrer">训练与测试<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 进行 RTMPose 的训练。</p> <p><strong>提示</strong>：</p> <ul><li>当用户的数据集较小时请根据情况缩小 <code>batch_size</code> 和 <code>base_lr</code>。</li> <li>模型选择
<ul><li>m：推荐首选使用</li> <li>t/s：适用于极端低算力的移动设备，或对推理速度要求严格的场景</li> <li>l：适用于算力较强、对速度不敏感的场景</li></ul></li></ul> <h2 id="🏗️-部署教程-🔝"><a href="#🏗️-部署教程-🔝" class="header-anchor">#</a> 🏗️ 部署教程 <a href="#-table-of-contents">🔝</a></h2> <p>本教程将展示如何通过 <a href="https://github.com/open-mmlab/mmdeploy/tree/main" target="_blank" rel="noopener noreferrer">MMDeploy<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 部署 RTMPose 项目。</p> <h3 id="🧩-安装"><a href="#🧩-安装" class="header-anchor">#</a> 🧩 安装</h3> <p>在开始部署之前，首先你需要确保正确安装了 MMPose, MMDetection, MMDeploy，相关安装教程如下：</p> <ul><li><a href="https://mmpose.readthedocs.io/zh_CN/latest/installation.html" target="_blank" rel="noopener noreferrer">安装 MMPose 与 MMDetection<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://mmdeploy.readthedocs.io/zh_CN/latest/04-supported-codebases/mmpose.html" target="_blank" rel="noopener noreferrer">安装 MMDeploy<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <p>根据部署后端的不同，有的后端需要对自定义算子进行编译，请根据需求前往对应的文档确保环境搭建正确：</p> <ul><li><a href="https://mmdeploy.readthedocs.io/zh_CN/latest/05-supported-backends/onnxruntime.html" target="_blank" rel="noopener noreferrer">ONNX<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://mmdeploy.readthedocs.io/zh_CN/latest/05-supported-backends/tensorrt.html" target="_blank" rel="noopener noreferrer">TensorRT<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://mmdeploy.readthedocs.io/zh_CN/latest/05-supported-backends/openvino.html" target="_blank" rel="noopener noreferrer">OpenVINO<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://github.com/open-mmlab/mmdeploy/tree/main/docs/en/05-supported-backends" target="_blank" rel="noopener noreferrer">更多<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <h3 id="🛠️-模型转换"><a href="#🛠️-模型转换" class="header-anchor">#</a> 🛠️ 模型转换</h3> <p>在完成安装之后，你就可以开始模型部署了。通过 MMDeploy 提供的 <code>tools/deploy.py</code> 可以方便地将 Pytorch 模型转换到不同的部署后端。</p> <p>我们本节演示将 RTMDet 和 RTMPose 模型导出为 ONNX 和 TensorRT 格式，如果你希望了解更多内容请前往 <a href="https://mmdeploy.readthedocs.io/zh_CN/latest/02-how-to-run/convert_model.html" target="_blank" rel="noopener noreferrer">MMDeploy 文档<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。</p> <ul><li><p>ONNX 配置</p> <p>- RTMDet：<a href="https://github.com/open-mmlab/mmdeploy/blob/main/configs/mmdet/detection/detection_onnxruntime_static.py" target="_blank" rel="noopener noreferrer"><code>detection_onnxruntime_static.py</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>- RTMPose：<a href="https://github.com/open-mmlab/mmdeploy/blob/main/configs/mmpose/pose-detection_simcc_onnxruntime_dynamic.py" target="_blank" rel="noopener noreferrer"><code>pose-detection_simcc_onnxruntime_dynamic.py</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></li> <li><p>TensorRT 配置</p> <p>- RTMDet：<a href="https://github.com/open-mmlab/mmdeploy/blob/main/configs/mmdet/detection/detection_tensorrt_static-320x320.py" target="_blank" rel="noopener noreferrer"><code>detection_tensorrt_static-320x320.py</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>- RTMPose：<a href="https://github.com/open-mmlab/mmdeploy/blob/main/configs/mmpose/pose-detection_simcc_tensorrt_dynamic-256x192.py" target="_blank" rel="noopener noreferrer"><code>pose-detection_simcc_tensorrt_dynamic-256x192.py</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></li></ul> <p>如果你需要对部署配置进行修改，请参考 <a href="https://mmdeploy.readthedocs.io/zh_CN/latest/02-how-to-run/write_config.html" target="_blank" rel="noopener noreferrer">MMDeploy config tutorial<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p> <p>本教程中使用的文件结构如下：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token operator">|</span>----mmdeploy
<span class="token operator">|</span>----mmdetection
<span class="token operator">|</span>----mmpose
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h4 id="onnx-2"><a href="#onnx-2" class="header-anchor">#</a> ONNX</h4> <p>运行如下命令：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment"># 前往 mmdeploy 目录</span>
<span class="token builtin class-name">cd</span> <span class="token variable">${PATH_TO_MMDEPLOY}</span>

<span class="token comment"># 转换 RTMDet</span>
<span class="token comment"># 输入模型路径可以是本地路径，也可以是下载链接。</span>
python tools/deploy.py <span class="token punctuation">\</span>
    configs/mmdet/detection/detection_onnxruntime_static.py <span class="token punctuation">\</span>
    <span class="token punctuation">..</span>/mmpose/projects/rtmpose/rtmdet/person/rtmdet_nano_320-8xb32_coco-person.py <span class="token punctuation">\</span>
    https://download.openmmlab.com/mmpose/v1/projects/rtmpose/rtmdet_nano_8xb32-100e_coco-obj365-person-05d8511e.pth <span class="token punctuation">\</span>
    demo/resources/human-pose.jpg <span class="token punctuation">\</span>
    --work-dir rtmpose-ort/rtmdet-nano <span class="token punctuation">\</span>
    <span class="token parameter variable">--device</span> cpu <span class="token punctuation">\</span>
    <span class="token parameter variable">--show</span> <span class="token punctuation">\</span>
    --dump-info   <span class="token comment"># 导出 sdk info</span>

<span class="token comment"># 转换 RTMPose</span>
<span class="token comment"># 输入模型路径可以是本地路径，也可以是下载链接。</span>
python tools/deploy.py <span class="token punctuation">\</span>
    configs/mmpose/pose-detection_simcc_onnxruntime_dynamic.py <span class="token punctuation">\</span>
    <span class="token punctuation">..</span>/mmpose/projects/rtmpose/rtmpose/body_2d_keypoint/rtmpose-m_8xb256-420e_coco-256x192.py <span class="token punctuation">\</span>
    https://download.openmmlab.com/mmpose/v1/projects/rtmposev1/rtmpose-m_simcc-aic-coco_pt-aic-coco_420e-256x192-63eb25f7_20230126.pth <span class="token punctuation">\</span>
    demo/resources/human-pose.jpg <span class="token punctuation">\</span>
    --work-dir rtmpose-ort/rtmpose-m <span class="token punctuation">\</span>
    <span class="token parameter variable">--device</span> cpu <span class="token punctuation">\</span>
    <span class="token parameter variable">--show</span> <span class="token punctuation">\</span>
    --dump-info   <span class="token comment"># 导出 sdk info</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div><p>默认导出模型文件为 <code>{work-dir}/end2end.onnx</code></p> <h4 id="tensorrt-2"><a href="#tensorrt-2" class="header-anchor">#</a> TensorRT</h4> <p>运行如下命令：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment"># 前往 mmdeploy 目录</span>
<span class="token builtin class-name">cd</span> <span class="token variable">${PATH_TO_MMDEPLOY}</span>

<span class="token comment"># 转换 RTMDet</span>
<span class="token comment"># 输入模型路径可以是本地路径，也可以是下载链接。</span>
python tools/deploy.py <span class="token punctuation">\</span>
    configs/mmdet/detection/detection_tensorrt_static-320x320.py <span class="token punctuation">\</span>
    <span class="token punctuation">..</span>/mmpose/projects/rtmpose/rtmdet/person/rtmdet_nano_320-8xb32_coco-person.py <span class="token punctuation">\</span>
    https://download.openmmlab.com/mmpose/v1/projects/rtmpose/rtmdet_nano_8xb32-100e_coco-obj365-person-05d8511e.pth <span class="token punctuation">\</span>
    demo/resources/human-pose.jpg <span class="token punctuation">\</span>
    --work-dir rtmpose-trt/rtmdet-nano <span class="token punctuation">\</span>
    <span class="token parameter variable">--device</span> cuda:0 <span class="token punctuation">\</span>
    <span class="token parameter variable">--show</span> <span class="token punctuation">\</span>
    --dump-info   <span class="token comment"># 导出 sdk info</span>

<span class="token comment"># 转换 RTMPose</span>
<span class="token comment"># 输入模型路径可以是本地路径，也可以是下载链接。</span>
python tools/deploy.py <span class="token punctuation">\</span>
    configs/mmpose/pose-detection_simcc_tensorrt_dynamic-256x192.py <span class="token punctuation">\</span>
    <span class="token punctuation">..</span>/mmpose/projects/rtmpose/rtmpose/body_2d_keypoint/rtmpose-m_8xb256-420e_coco-256x192.py <span class="token punctuation">\</span>
    https://download.openmmlab.com/mmpose/v1/projects/rtmposev1/rtmpose-m_simcc-aic-coco_pt-aic-coco_420e-256x192-63eb25f7_20230126.pth <span class="token punctuation">\</span>
    demo/resources/human-pose.jpg <span class="token punctuation">\</span>
    --work-dir rtmpose-trt/rtmpose-m <span class="token punctuation">\</span>
    <span class="token parameter variable">--device</span> cuda:0 <span class="token punctuation">\</span>
    <span class="token parameter variable">--show</span> <span class="token punctuation">\</span>
    --dump-info   <span class="token comment"># 导出 sdk info</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div><p>默认导出模型文件为 <code>{work-dir}/end2end.engine</code></p> <p>🎊 如果模型顺利导出，你将会看到样例图片上的检测结果：</p> <p><img src="https://user-images.githubusercontent.com/13503330/217726963-7815dd01-561a-4605-b0c6-07b6fe1956c3.png" alt="convert_models"></p> <h4 id="高级设置"><a href="#高级设置" class="header-anchor">#</a> 高级设置</h4> <p>如果需要使用 TensorRT-FP16，你可以通过修改以下配置开启：</p> <div class="language-Python line-numbers-mode"><pre class="language-python"><code><span class="token comment"># in MMDeploy config</span>
backend_config <span class="token operator">=</span> <span class="token builtin">dict</span><span class="token punctuation">(</span>
    <span class="token builtin">type</span><span class="token operator">=</span><span class="token string">'tensorrt'</span><span class="token punctuation">,</span>
    common_config<span class="token operator">=</span><span class="token builtin">dict</span><span class="token punctuation">(</span>
        fp16_mode<span class="token operator">=</span><span class="token boolean">True</span>  <span class="token comment"># 打开 fp16</span>
    <span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="🕹️-sdk-推理"><a href="#🕹️-sdk-推理" class="header-anchor">#</a> 🕹️ SDK 推理</h3> <p>要进行 Pipeline 推理，需要先用 MMDeploy 导出 SDK 版本的 det 和 pose 模型，只需要在参数中加上<code>--dump-info</code>。</p> <p>此处以 onnxruntime 的 cpu 模型为例，运行如下命令：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment"># RTMDet</span>
<span class="token comment"># 输入模型路径可以是本地路径，也可以是下载链接。</span>
python tools/deploy.py <span class="token punctuation">\</span>
    configs/mmdet/detection/detection_onnxruntime_dynamic.py <span class="token punctuation">\</span>
    <span class="token punctuation">..</span>/mmpose/projects/rtmpose/rtmdet/person/rtmdet_nano_320-8xb32_coco-person.py <span class="token punctuation">\</span>
    https://download.openmmlab.com/mmpose/v1/projects/rtmpose/rtmdet_nano_8xb32-100e_coco-obj365-person-05d8511e.pth <span class="token punctuation">\</span>
    demo/resources/human-pose.jpg <span class="token punctuation">\</span>
    --work-dir rtmpose-ort/rtmdet-nano <span class="token punctuation">\</span>
    <span class="token parameter variable">--device</span> cpu <span class="token punctuation">\</span>
    <span class="token parameter variable">--show</span> <span class="token punctuation">\</span>
    --dump-info   <span class="token comment"># 导出 sdk info</span>

<span class="token comment"># RTMPose</span>
<span class="token comment"># 输入模型路径可以是本地路径，也可以是下载链接。</span>
python tools/deploy.py <span class="token punctuation">\</span>
    configs/mmpose/pose-detection_simcc_onnxruntime_dynamic.py <span class="token punctuation">\</span>
    <span class="token punctuation">..</span>/mmpose/projects/rtmpose/rtmpose/body_2d_keypoint/rtmpose-m_8xb256-420e_coco-256x192.py <span class="token punctuation">\</span>
    https://download.openmmlab.com/mmpose/v1/projects/rtmposev1/rtmpose-m_simcc-aic-coco_pt-aic-coco_420e-256x192-63eb25f7_20230126.pth <span class="token punctuation">\</span>
    demo/resources/human-pose.jpg <span class="token punctuation">\</span>
    --work-dir rtmpose-ort/rtmpose-m <span class="token punctuation">\</span>
    <span class="token parameter variable">--device</span> cpu <span class="token punctuation">\</span>
    <span class="token parameter variable">--show</span> <span class="token punctuation">\</span>
    --dump-info  <span class="token comment"># 导出 sdk info</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><p>默认会导出三个 json 文件：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token operator">|</span>----sdk
     <span class="token operator">|</span>----end2end.onnx    <span class="token comment"># ONNX model</span>
     <span class="token operator">|</span>----end2end.engine  <span class="token comment"># TensorRT engine file</span>

     <span class="token operator">|</span>----pipeline.json   <span class="token comment">#</span>
     <span class="token operator">|</span>----deploy.json     <span class="token comment"># json files for the SDK</span>
     <span class="token operator">|</span>----detail.json     <span class="token comment">#</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h4 id="python-api"><a href="#python-api" class="header-anchor">#</a> Python API</h4> <div class="language-Python line-numbers-mode"><pre class="language-python"><code><span class="token comment"># Copyright (c) OpenMMLab. All rights reserved.</span>
<span class="token keyword">import</span> argparse

<span class="token keyword">import</span> cv2
<span class="token keyword">import</span> numpy <span class="token keyword">as</span> np
<span class="token keyword">from</span> mmdeploy_runtime <span class="token keyword">import</span> PoseDetector

<span class="token keyword">def</span> <span class="token function">parse_args</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    parser <span class="token operator">=</span> argparse<span class="token punctuation">.</span>ArgumentParser<span class="token punctuation">(</span>
        description<span class="token operator">=</span><span class="token string">'show how to use sdk python api'</span><span class="token punctuation">)</span>
    parser<span class="token punctuation">.</span>add_argument<span class="token punctuation">(</span><span class="token string">'device_name'</span><span class="token punctuation">,</span> <span class="token builtin">help</span><span class="token operator">=</span><span class="token string">'name of device, cuda or cpu'</span><span class="token punctuation">)</span>
    parser<span class="token punctuation">.</span>add_argument<span class="token punctuation">(</span>
        <span class="token string">'model_path'</span><span class="token punctuation">,</span>
        <span class="token builtin">help</span><span class="token operator">=</span><span class="token string">'path of mmdeploy SDK model dumped by model converter'</span><span class="token punctuation">)</span>
    parser<span class="token punctuation">.</span>add_argument<span class="token punctuation">(</span><span class="token string">'image_path'</span><span class="token punctuation">,</span> <span class="token builtin">help</span><span class="token operator">=</span><span class="token string">'path of an image'</span><span class="token punctuation">)</span>
    parser<span class="token punctuation">.</span>add_argument<span class="token punctuation">(</span>
        <span class="token string">'--bbox'</span><span class="token punctuation">,</span>
        default<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">,</span>
        nargs<span class="token operator">=</span><span class="token string">'+'</span><span class="token punctuation">,</span>
        <span class="token builtin">type</span><span class="token operator">=</span><span class="token builtin">int</span><span class="token punctuation">,</span>
        <span class="token builtin">help</span><span class="token operator">=</span><span class="token string">'bounding box of an object in format (x, y, w, h)'</span><span class="token punctuation">)</span>
    args <span class="token operator">=</span> parser<span class="token punctuation">.</span>parse_args<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> args

<span class="token keyword">def</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    args <span class="token operator">=</span> parse_args<span class="token punctuation">(</span><span class="token punctuation">)</span>

    img <span class="token operator">=</span> cv2<span class="token punctuation">.</span>imread<span class="token punctuation">(</span>args<span class="token punctuation">.</span>image_path<span class="token punctuation">)</span>

    detector <span class="token operator">=</span> PoseDetector<span class="token punctuation">(</span>
        model_path<span class="token operator">=</span>args<span class="token punctuation">.</span>model_path<span class="token punctuation">,</span> device_name<span class="token operator">=</span>args<span class="token punctuation">.</span>device_name<span class="token punctuation">,</span> device_id<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">)</span>

    <span class="token keyword">if</span> args<span class="token punctuation">.</span>bbox <span class="token keyword">is</span> <span class="token boolean">None</span><span class="token punctuation">:</span>
        result <span class="token operator">=</span> detector<span class="token punctuation">(</span>img<span class="token punctuation">)</span>
    <span class="token keyword">else</span><span class="token punctuation">:</span>
        <span class="token comment"># converter (x, y, w, h) -&gt; (left, top, right, bottom)</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span>args<span class="token punctuation">.</span>bbox<span class="token punctuation">)</span>
        bbox <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span>args<span class="token punctuation">.</span>bbox<span class="token punctuation">,</span> dtype<span class="token operator">=</span><span class="token builtin">int</span><span class="token punctuation">)</span>
        bbox<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">:</span><span class="token punctuation">]</span> <span class="token operator">+=</span> bbox<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token number">2</span><span class="token punctuation">]</span>
        result <span class="token operator">=</span> detector<span class="token punctuation">(</span>img<span class="token punctuation">,</span> bbox<span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span>

    _<span class="token punctuation">,</span> point_num<span class="token punctuation">,</span> _ <span class="token operator">=</span> result<span class="token punctuation">.</span>shape
    points <span class="token operator">=</span> result<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span> <span class="token punctuation">:</span><span class="token punctuation">,</span> <span class="token punctuation">:</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">.</span>reshape<span class="token punctuation">(</span>point_num<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>
    <span class="token keyword">for</span> <span class="token punctuation">[</span>x<span class="token punctuation">,</span> y<span class="token punctuation">]</span> <span class="token keyword">in</span> points<span class="token punctuation">.</span>astype<span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        cv2<span class="token punctuation">.</span>circle<span class="token punctuation">(</span>img<span class="token punctuation">,</span> <span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>

    cv2<span class="token punctuation">.</span>imwrite<span class="token punctuation">(</span><span class="token string">'output_pose.png'</span><span class="token punctuation">,</span> img<span class="token punctuation">)</span>

<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">'__main__'</span><span class="token punctuation">:</span>
    main<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br></div></div><h4 id="c-api"><a href="#c-api" class="header-anchor">#</a> C++ API</h4> <div class="language-C++ line-numbers-mode"><pre class="language-text"><code>#include &quot;mmdeploy/detector.hpp&quot;

#include &quot;opencv2/imgcodecs/imgcodecs.hpp&quot;
#include &quot;utils/argparse.h&quot;
#include &quot;utils/visualize.h&quot;

DEFINE_ARG_string(model, &quot;Model path&quot;);
DEFINE_ARG_string(image, &quot;Input image path&quot;);
DEFINE_string(device, &quot;cpu&quot;, R&quot;(Device name, e.g. &quot;cpu&quot;, &quot;cuda&quot;)&quot;);
DEFINE_string(output, &quot;detector_output.jpg&quot;, &quot;Output image path&quot;);

DEFINE_double(det_thr, .5, &quot;Detection score threshold&quot;);

int main(int argc, char* argv[]) {
  if (!utils::ParseArguments(argc, argv)) {
    return -1;
  }

  cv::Mat img = cv::imread(ARGS_image);
  if (img.empty()) {
    fprintf(stderr, &quot;failed to load image: %s\n&quot;, ARGS_image.c_str());
    return -1;
  }

  // construct a detector instance
  mmdeploy::Detector detector(mmdeploy::Model{ARGS_model}, mmdeploy::Device{FLAGS_device});

  // apply the detector, the result is an array-like class holding references to
  // `mmdeploy_detection_t`, will be released automatically on destruction
  mmdeploy::Detector::Result dets = detector.Apply(img);

  // visualize
  utils::Visualize v;
  auto sess = v.get_session(img);
  int count = 0;
  for (const mmdeploy_detection_t&amp; det : dets) {
    if (det.score &gt; FLAGS_det_thr) {  // filter bboxes
      sess.add_det(det.bbox, det.label_id, det.score, det.mask, count++);
    }
  }

  if (!FLAGS_output.empty()) {
    cv::imwrite(FLAGS_output, sess.get());
  }

  return 0;
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br></div></div><p>对于 C++ API 示例，请将 MMDeploy 加入到 CMake 项目中：</p> <div class="language-CMake line-numbers-mode"><pre class="language-cmake"><code><span class="token keyword">find_package</span><span class="token punctuation">(</span>MMDeploy REQUIRED<span class="token punctuation">)</span>
<span class="token keyword">target_link_libraries</span><span class="token punctuation">(</span><span class="token punctuation">${</span>name<span class="token punctuation">}</span> <span class="token namespace">PRIVATE</span> mmdeploy <span class="token punctuation">${</span>OpenCV_LIBS<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h4 id="其他语言"><a href="#其他语言" class="header-anchor">#</a> 其他语言</h4> <ul><li><a href="https://github.com/open-mmlab/mmdeploy/tree/main/demo/csharp" target="_blank" rel="noopener noreferrer">C# API 示例<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://github.com/open-mmlab/mmdeploy/tree/main/demo/java" target="_blank" rel="noopener noreferrer">JAVA API 示例<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <h3 id="🚀-pipeline-推理"><a href="#🚀-pipeline-推理" class="header-anchor">#</a> 🚀 Pipeline 推理</h3> <h4 id="图片推理"><a href="#图片推理" class="header-anchor">#</a> 图片推理</h4> <p>如果用户有跟随 MMDeploy 安装教程进行正确编译，在 <code>mmdeploy/build/bin/</code> 路径下会看到 <code>det_pose</code> 的可执行文件。</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment"># 前往 mmdeploy 目录</span>
<span class="token builtin class-name">cd</span> <span class="token variable">${PATH_TO_MMDEPLOY}</span>/build/bin/

<span class="token comment"># 单张图片推理</span>
./det_pose rtmpose-ort/rtmdet-nano/ rtmpose-ort/rtmpose-m/ your_img.jpg <span class="token parameter variable">--device</span> cpu

required arguments:
  det_model           Detection 模型路径 <span class="token punctuation">[</span>string<span class="token punctuation">]</span>
  pose_model          Pose 模型路径 <span class="token punctuation">[</span>string<span class="token punctuation">]</span>
  image               输入图片路径 <span class="token punctuation">[</span>string<span class="token punctuation">]</span>

optional arguments:
  <span class="token parameter variable">--device</span>            推理设备 <span class="token string">&quot;cpu&quot;</span>, <span class="token string">&quot;cuda&quot;</span> <span class="token punctuation">[</span>string <span class="token operator">=</span> <span class="token string">&quot;cpu&quot;</span><span class="token punctuation">]</span>
  <span class="token parameter variable">--output</span>            导出图片路径 <span class="token punctuation">[</span>string <span class="token operator">=</span> <span class="token string">&quot;det_pose_output.jpg&quot;</span><span class="token punctuation">]</span>
  <span class="token parameter variable">--skeleton</span>          骨架定义文件路径，或使用预定义骨架:
                      <span class="token string">&quot;coco&quot;</span> <span class="token punctuation">[</span>string <span class="token operator">=</span> <span class="token string">&quot;coco&quot;</span>, <span class="token string">&quot;coco-wholoebody&quot;</span><span class="token punctuation">]</span>
  <span class="token parameter variable">--det_label</span>         用于姿势估计的检测标签 <span class="token punctuation">[</span>int32 <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">]</span>
                      <span class="token punctuation">(</span><span class="token number">0</span> 在 coco 中对应 person<span class="token punctuation">)</span>
  <span class="token parameter variable">--det_thr</span>           检测分数阈值 <span class="token punctuation">[</span>double <span class="token operator">=</span> <span class="token number">0.5</span><span class="token punctuation">]</span>
  <span class="token parameter variable">--det_min_bbox_size</span> 最小检测框大小 <span class="token punctuation">[</span>double <span class="token operator">=</span> -1<span class="token punctuation">]</span>
  <span class="token parameter variable">--pose_thr</span>          关键点置信度阈值 <span class="token punctuation">[</span>double <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><p><strong>API</strong> <strong>示例</strong></p> <p>- <a href="https://github.com/open-mmlab/mmdeploy/blob/main/demo/python/det_pose.py" target="_blank" rel="noopener noreferrer"><code>det_pose.py</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>- <a href="https://github.com/open-mmlab/mmdeploy/blob/main/demo/csrc/cpp/det_pose.cxx" target="_blank" rel="noopener noreferrer"><code>det_pose.cxx</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h4 id="视频推理"><a href="#视频推理" class="header-anchor">#</a> 视频推理</h4> <p>如果用户有跟随 MMDeploy 安装教程进行正确编译，在 <code>mmdeploy/build/bin/</code> 路径下会看到 <code>pose_tracker</code> 的可执行文件。</p> <ul><li>将 <code>input</code> 输入 <code>0</code> 可以使用摄像头推理</li></ul> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment"># 前往 mmdeploy 目录</span>
<span class="token builtin class-name">cd</span> <span class="token variable">${PATH_TO_MMDEPLOY}</span>/build/bin/

<span class="token comment"># 视频推理</span>
./pose_tracker rtmpose-ort/rtmdet-nano/ rtmpose-ort/rtmpose-m/ your_video.mp4 <span class="token parameter variable">--device</span> cpu

required arguments:
  det_model             Detection 模型路径 <span class="token punctuation">[</span>string<span class="token punctuation">]</span>
  pose_model            Pose 模型路径 <span class="token punctuation">[</span>string<span class="token punctuation">]</span>
  input                 输入图片路径或摄像头序号 <span class="token punctuation">[</span>string<span class="token punctuation">]</span>

optional arguments:
  <span class="token parameter variable">--device</span>              推理设备 <span class="token string">&quot;cpu&quot;</span>, <span class="token string">&quot;cuda&quot;</span> <span class="token punctuation">[</span>string <span class="token operator">=</span> <span class="token string">&quot;cpu&quot;</span><span class="token punctuation">]</span>
  <span class="token parameter variable">--output</span>              导出视频路径 <span class="token punctuation">[</span>string <span class="token operator">=</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">]</span>
  <span class="token parameter variable">--output_size</span>         输出视频帧的长边 <span class="token punctuation">[</span>int32 <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">]</span>
  <span class="token parameter variable">--flip</span>                设置为1，用于水平翻转输入 <span class="token punctuation">[</span>int32 <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">]</span>
  <span class="token parameter variable">--show</span>                使用<span class="token variable"><span class="token variable">`</span>cv::imshow<span class="token variable">`</span></span>时，传递给<span class="token variable"><span class="token variable">`</span>cv::waitKey<span class="token variable">`</span></span>的延迟<span class="token punctuation">;</span>
                        -1: 关闭 <span class="token punctuation">[</span>int32 <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">]</span>
  <span class="token parameter variable">--skeleton</span>            骨架数据的路径或预定义骨架的名称:
                        <span class="token string">&quot;coco&quot;</span>, <span class="token string">&quot;coco-wholebody&quot;</span> <span class="token punctuation">[</span>string <span class="token operator">=</span> <span class="token string">&quot;coco&quot;</span><span class="token punctuation">]</span>
  <span class="token parameter variable">--background</span>          导出视频背景颜色, <span class="token string">&quot;default&quot;</span><span class="token builtin class-name">:</span> 原图, <span class="token string">&quot;black&quot;</span><span class="token builtin class-name">:</span>
                        纯黑背景 <span class="token punctuation">[</span>string <span class="token operator">=</span> <span class="token string">&quot;default&quot;</span><span class="token punctuation">]</span>
  <span class="token parameter variable">--det_interval</span>        检测间隔 <span class="token punctuation">[</span>int32 <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">]</span>
  <span class="token parameter variable">--det_label</span>           用于姿势估计的检测标签 <span class="token punctuation">[</span>int32 <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">]</span>
                        <span class="token punctuation">(</span><span class="token number">0</span> 在 coco 中对应 person<span class="token punctuation">)</span>
  <span class="token parameter variable">--det_thr</span>             检测分数阈值 <span class="token punctuation">[</span>double <span class="token operator">=</span> <span class="token number">0.5</span><span class="token punctuation">]</span>
  <span class="token parameter variable">--det_min_bbox_size</span>   最小检测框大小 <span class="token punctuation">[</span>double <span class="token operator">=</span> -1<span class="token punctuation">]</span>
  <span class="token parameter variable">--det_nms_thr</span>         NMS IOU阈值，用于合并检测到的bboxes和
                        追踪到的目标的 bboxes <span class="token punctuation">[</span>double <span class="token operator">=</span> <span class="token number">0.7</span><span class="token punctuation">]</span>
  <span class="token parameter variable">--pose_max_num_bboxes</span> 每一帧用于姿势估计的 bboxes 的最大数量
                        <span class="token punctuation">[</span>int32 <span class="token operator">=</span> -1<span class="token punctuation">]</span>
  <span class="token parameter variable">--pose_kpt_thr</span>        可见关键点的阈值 <span class="token punctuation">[</span>double <span class="token operator">=</span> <span class="token number">0.5</span><span class="token punctuation">]</span>
  <span class="token parameter variable">--pose_min_keypoints</span>  有效姿势的最小关键点数量，-1表示上限<span class="token punctuation">(</span>n_kpts/2<span class="token punctuation">)</span> <span class="token punctuation">[</span>int32 <span class="token operator">=</span> -1<span class="token punctuation">]</span>
  <span class="token parameter variable">--pose_bbox_scale</span>     将关键点扩展到 bbox 的比例 <span class="token punctuation">[</span>double <span class="token operator">=</span> <span class="token number">1.25</span><span class="token punctuation">]</span>
  <span class="token parameter variable">--pose_min_bbox_size</span>  最小追踪尺寸，尺寸小于阈值的 bbox 将被剔除 <span class="token punctuation">[</span>double <span class="token operator">=</span> -1<span class="token punctuation">]</span>
  <span class="token parameter variable">--pose_nms_thr</span>        用于抑制重叠姿势的 NMS OKS/IOU阈值。
                        当多个姿态估计重叠到同一目标时非常有用 <span class="token punctuation">[</span>double <span class="token operator">=</span> <span class="token number">0.5</span><span class="token punctuation">]</span>
  <span class="token parameter variable">--track_iou_thr</span>       追踪 IOU 阈值 <span class="token punctuation">[</span>double <span class="token operator">=</span> <span class="token number">0.4</span><span class="token punctuation">]</span>
  <span class="token parameter variable">--track_max_missing</span>   最大追踪容错 <span class="token punctuation">[</span>int32 <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br></div></div><p><strong>API</strong> <strong>示例</strong></p> <p>- <a href="https://github.com/open-mmlab/mmdeploy/blob/main/demo/python/pose_tracker.py" target="_blank" rel="noopener noreferrer"><code>pose_tracker.py</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>- <a href="https://github.com/open-mmlab/mmdeploy/blob/main/demo/csrc/cpp/pose_tracker.cxx" target="_blank" rel="noopener noreferrer"><code>pose_tracker.cxx</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="📚-常用功能-🔝"><a href="#📚-常用功能-🔝" class="header-anchor">#</a> 📚 常用功能 <a href="#-table-of-contents">🔝</a></h2> <h3 id="🚀-模型测速-🔝"><a href="#🚀-模型测速-🔝" class="header-anchor">#</a> 🚀 模型测速 <a href="#-table-of-contents">🔝</a></h3> <p>如果需要测试模型在部署框架下的推理速度，MMDeploy 提供了方便的 <code>tools/profiler.py</code> 脚本。</p> <p>用户需要准备一个存放测试图片的文件夹<code>./test_images</code>，profiler 将随机从该目录下抽取图片用于模型测速。</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>python tools/profiler.py <span class="token punctuation">\</span>
    configs/mmpose/pose-detection_simcc_onnxruntime_dynamic.py <span class="token punctuation">\</span>
    <span class="token punctuation">{</span>RTMPOSE_PROJECT<span class="token punctuation">}</span>/rtmpose/body_2d_keypoint/rtmpose-m_8xb256-420e_coco-256x192.py <span class="token punctuation">\</span>
    <span class="token punctuation">..</span>/test_images <span class="token punctuation">\</span>
    <span class="token parameter variable">--model</span> <span class="token punctuation">{</span>WORK_DIR<span class="token punctuation">}</span>/end2end.onnx <span class="token punctuation">\</span>
    <span class="token parameter variable">--shape</span> 256x192 <span class="token punctuation">\</span>
    <span class="token parameter variable">--device</span> cpu <span class="token punctuation">\</span>
    <span class="token parameter variable">--warmup</span> <span class="token number">50</span> <span class="token punctuation">\</span>
    --num-iter <span class="token number">200</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>测试结果如下：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>01/30 <span class="token number">15</span>:06:35 - mmengine - INFO - <span class="token punctuation">[</span>onnxruntime<span class="token punctuation">]</span>-70 <span class="token builtin class-name">times</span> per count: <span class="token number">8.73</span> ms, <span class="token number">114.50</span> FPS
01/30 <span class="token number">15</span>:06:36 - mmengine - INFO - <span class="token punctuation">[</span>onnxruntime<span class="token punctuation">]</span>-90 <span class="token builtin class-name">times</span> per count: <span class="token number">9.05</span> ms, <span class="token number">110.48</span> FPS
01/30 <span class="token number">15</span>:06:37 - mmengine - INFO - <span class="token punctuation">[</span>onnxruntime<span class="token punctuation">]</span>-110 <span class="token builtin class-name">times</span> per count: <span class="token number">9.87</span> ms, <span class="token number">101.32</span> FPS
01/30 <span class="token number">15</span>:06:37 - mmengine - INFO - <span class="token punctuation">[</span>onnxruntime<span class="token punctuation">]</span>-130 <span class="token builtin class-name">times</span> per count: <span class="token number">9.99</span> ms, <span class="token number">100.10</span> FPS
01/30 <span class="token number">15</span>:06:38 - mmengine - INFO - <span class="token punctuation">[</span>onnxruntime<span class="token punctuation">]</span>-150 <span class="token builtin class-name">times</span> per count: <span class="token number">10.39</span> ms, <span class="token number">96.29</span> FPS
01/30 <span class="token number">15</span>:06:39 - mmengine - INFO - <span class="token punctuation">[</span>onnxruntime<span class="token punctuation">]</span>-170 <span class="token builtin class-name">times</span> per count: <span class="token number">10.77</span> ms, <span class="token number">92.86</span> FPS
01/30 <span class="token number">15</span>:06:40 - mmengine - INFO - <span class="token punctuation">[</span>onnxruntime<span class="token punctuation">]</span>-190 <span class="token builtin class-name">times</span> per count: <span class="token number">10.98</span> ms, <span class="token number">91.05</span> FPS
01/30 <span class="token number">15</span>:06:40 - mmengine - INFO - <span class="token punctuation">[</span>onnxruntime<span class="token punctuation">]</span>-210 <span class="token builtin class-name">times</span> per count: <span class="token number">11.19</span> ms, <span class="token number">89.33</span> FPS
01/30 <span class="token number">15</span>:06:41 - mmengine - INFO - <span class="token punctuation">[</span>onnxruntime<span class="token punctuation">]</span>-230 <span class="token builtin class-name">times</span> per count: <span class="token number">11.16</span> ms, <span class="token number">89.58</span> FPS
01/30 <span class="token number">15</span>:06:42 - mmengine - INFO - <span class="token punctuation">[</span>onnxruntime<span class="token punctuation">]</span>-250 <span class="token builtin class-name">times</span> per count: <span class="token number">11.06</span> ms, <span class="token number">90.41</span> FPS
----- Settings:
+------------+---------+
<span class="token operator">|</span> batch size <span class="token operator">|</span>    <span class="token number">1</span>    <span class="token operator">|</span>
<span class="token operator">|</span>   shape    <span class="token operator">|</span> 256x192 <span class="token operator">|</span>
<span class="token operator">|</span> iterations <span class="token operator">|</span>   <span class="token number">200</span>   <span class="token operator">|</span>
<span class="token operator">|</span>   warmup   <span class="token operator">|</span>    <span class="token number">50</span>   <span class="token operator">|</span>
+------------+---------+
----- Results:
+--------+------------+---------+
<span class="token operator">|</span> Stats  <span class="token operator">|</span> Latency/ms <span class="token operator">|</span>   FPS   <span class="token operator">|</span>
+--------+------------+---------+
<span class="token operator">|</span>  Mean  <span class="token operator">|</span>   <span class="token number">11.060</span>   <span class="token operator">|</span>  <span class="token number">90.412</span> <span class="token operator">|</span>
<span class="token operator">|</span> Median <span class="token operator">|</span>   <span class="token number">11.852</span>   <span class="token operator">|</span>  <span class="token number">84.375</span> <span class="token operator">|</span>
<span class="token operator">|</span>  Min   <span class="token operator">|</span>   <span class="token number">7.812</span>    <span class="token operator">|</span> <span class="token number">128.007</span> <span class="token operator">|</span>
<span class="token operator">|</span>  Max   <span class="token operator">|</span>   <span class="token number">13.690</span>   <span class="token operator">|</span>  <span class="token number">73.044</span> <span class="token operator">|</span>
+--------+------------+---------+
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div><p>如果你希望详细了解 profiler 的更多参数设置与功能，可以前往 <a href="https://mmdeploy.readthedocs.io/en/main/02-how-to-run/useful_tools.html#profiler" target="_blank" rel="noopener noreferrer">Profiler Docs<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h3 id="📊-精度验证-🔝"><a href="#📊-精度验证-🔝" class="header-anchor">#</a> 📊 精度验证 <a href="#-table-of-contents">🔝</a></h3> <p>如果需要测试模型在部署框架下的推理精度，MMDeploy 提供了方便的 <code>tools/test.py</code> 脚本。</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>python tools/test.py <span class="token punctuation">\</span>
    configs/mmpose/pose-detection_simcc_onnxruntime_dynamic.py <span class="token punctuation">\</span>
    <span class="token punctuation">{</span>RTMPOSE_PROJECT<span class="token punctuation">}</span>/rtmpose/body_2d_keypoint/rtmpose-m_8xb256-420e_coco-256x192.py <span class="token punctuation">\</span>
    <span class="token parameter variable">--model</span> <span class="token punctuation">{</span>PATH_TO_MODEL<span class="token punctuation">}</span>/rtmpose_m.pth <span class="token punctuation">\</span>
    <span class="token parameter variable">--device</span> cpu
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>详细内容请参考 <a href="https://github.com/open-mmlab/mmdeploy/blob/main/docs/zh_cn/02-how-to-run/profile_model.md" target="_blank" rel="noopener noreferrer">MMDeploys Docs<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="📜-引用-🔝"><a href="#📜-引用-🔝" class="header-anchor">#</a> 📜 引用 <a href="#-table-of-contents">🔝</a></h2> <p>如果您觉得 RTMPose 对您的研究工作有所帮助，请考虑引用它：</p> <div class="language-bibtex line-numbers-mode"><pre class="language-text"><code>@misc{https://doi.org/10.48550/arxiv.2303.07399,
  doi = {10.48550/ARXIV.2303.07399},
  url = {https://arxiv.org/abs/2303.07399},
  author = {Jiang, Tao and Lu, Peng and Zhang, Li and Ma, Ningsheng and Han, Rui and Lyu, Chengqi and Li, Yining and Chen, Kai},
  keywords = {Computer Vision and Pattern Recognition (cs.CV), FOS: Computer and information sciences, FOS: Computer and information sciences},
  title = {RTMPose: Real-Time Multi-Person Pose Estimation based on MMPose},
  publisher = {arXiv},
  year = {2023},
  copyright = {Creative Commons Attribution 4.0 International}
}

@misc{mmpose2020,
    title={OpenMMLab Pose Estimation Toolbox and Benchmark},
    author={MMPose Contributors},
    howpublished = {\url{https://github.com/open-mmlab/mmpose}},
    year={2020}
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div></div></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.347fa917.js" defer></script><script src="/assets/js/4.4e440976.js" defer></script><script src="/assets/js/81.78c287ce.js" defer></script>
  </body>
</html>
