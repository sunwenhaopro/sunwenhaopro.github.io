(window.webpackJsonp=window.webpackJsonp||[]).push([[53],{581:function(t,s,a){"use strict";a.r(s);var e=a(7),n=Object(e.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"指标监控"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#指标监控"}},[t._v("#")]),t._v(" 指标监控")]),t._v(" "),s("p",[t._v("Spring Boot includes a number of additional features to help you monitor and manage your application when you push it to production. You can choose to manage and monitor your application by using HTTP endpoints or with JMX. Auditing, health, and metrics gathering can also be automatically applied to your application.")]),t._v(" "),s("p",[t._v("https://docs.spring.io/spring-boot/docs/current/reference/html/actuator.html#actuator")]),t._v(" "),s("p",[t._v("未来每一个微服务在云上部署以后，我们都需要对其进行监控、追踪、审计、控制等。SpringBoot就抽取了Actuator场景，使得我们每个微服务快速引用即可获得生产级别的应用监控、审计等功能。")]),t._v(" "),s("div",{staticClass:"language-xml line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-xml"}},[s("code",[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("dependency")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("groupId")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("org.springframework.boot"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("groupId")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("artifactId")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("spring-boot-starter-actuator"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("artifactId")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("dependency")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br")])]),s("p",[s("img",{attrs:{src:"https://picture.xcye.xyz/image-20210710122614947.png?x-oss-process=style/pictureProcess1",alt:""}})]),t._v(" "),s("h1",{attrs:{id:"_1-x与2-x的不同"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-x与2-x的不同"}},[t._v("#")]),t._v(" 1.x与2.x的不同")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://picture.xcye.xyz/image-20210710122307766.png?x-oss-process=style/pictureProcess1",alt:""}})]),t._v(" "),s("h1",{attrs:{id:"使用"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#使用"}},[t._v("#")]),t._v(" 使用")]),t._v(" "),s("p",[t._v("Actuator endpoints let you monitor and interact with your application. Spring Boot includes a number of built-in endpoints and lets you add your own. For example, the "),s("code",[t._v("health")]),t._v(" endpoint provides basic application health information.")]),t._v(" "),s("p",[t._v("Each individual endpoint can be "),s("a",{attrs:{href:"http://ooszy.cco.vin/img/blog-note/https://docs.spring.io/spring-boot/docs/current/reference/html/actuator.html#actuator.endpoints.enabling",target:"_blank",rel:"noopener noreferrer"}},[t._v("enabled or disabled"),s("OutboundLink")],1),t._v(" and "),s("a",{attrs:{href:"http://ooszy.cco.vin/img/blog-note/https://docs.spring.io/spring-boot/docs/current/reference/html/actuator.html#actuator.endpoints.exposing",target:"_blank",rel:"noopener noreferrer"}},[t._v("exposed (made remotely accessible) over HTTP or JMX"),s("OutboundLink")],1),t._v(". An endpoint is considered to be available when it is both enabled and exposed. The built-in endpoints will only be auto-configured when they are available. Most applications choose exposure via HTTP, where the ID of the endpoint along with a prefix of "),s("code",[t._v("/actuator")]),t._v(" is mapped to a URL. For example, by default, the "),s("code",[t._v("health")]),t._v(" endpoint is mapped to "),s("code",[t._v("/actuator/health")]),t._v(".")]),t._v(" "),s("p",[t._v("当我们就starter导入启动web程序的时候，那么我们就可以通过通过网址http://localhost:8080//actuator/进行访问，但是默认值开启health，其他的功能，我们需要开启")]),t._v(" "),s("p",[t._v("我们可以通过两种方式来监控程序")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("通过jmx")]),t._v(" "),s("p",[t._v("在cmd中输入"),s("code",[t._v("jconsole")]),t._v("便可以进行监控")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://picture.xcye.xyz/image-20210710124125592.png?x-oss-process=style/pictureProcess1",alt:""}})])]),t._v(" "),s("li",[s("p",[t._v("通过web，也就是通过发送请求的方式，像这种方式就是HTTP的监控http://localhost:8080//actuator/")])])]),t._v(" "),s("p",[t._v("可以查看网址")]),t._v(" "),s("p",[t._v("https://docs.spring.io/spring-boot/docs/current/reference/html/actuator.html#actuator.endpoints.enabling")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("ID")]),t._v(" "),s("th",[t._v("描述")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[s("code",[t._v("auditevents")])]),t._v(" "),s("td",[t._v("暴露当前应用程序的审核事件信息。需要一个"),s("code",[t._v("AuditEventRepository组件")]),t._v("。")])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("beans")])]),t._v(" "),s("td",[t._v("显示应用程序中所有Spring Bean的完整列表。")])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("caches")])]),t._v(" "),s("td",[t._v("暴露可用的缓存。")])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("conditions")])]),t._v(" "),s("td",[t._v("显示自动配置的所有条件信息，包括匹配或不匹配的原因。")])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("configprops")])]),t._v(" "),s("td",[t._v("显示所有"),s("code",[t._v("@ConfigurationProperties")]),t._v("。")])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("env")])]),t._v(" "),s("td",[t._v("暴露Spring的属性"),s("code",[t._v("ConfigurableEnvironment")])])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("flyway")])]),t._v(" "),s("td",[t._v("显示已应用的所有Flyway数据库迁移。 需要一个或多个"),s("code",[t._v("Flyway")]),t._v("组件。")])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("health")])]),t._v(" "),s("td",[t._v("显示应用程序运行状况信息。")])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("httptrace")])]),t._v(" "),s("td",[t._v("显示HTTP跟踪信息（默认情况下，最近100个HTTP请求-响应）。需要一个"),s("code",[t._v("HttpTraceRepository")]),t._v("组件。")])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("info")])]),t._v(" "),s("td",[t._v("显示应用程序信息。")])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("integrationgraph")])]),t._v(" "),s("td",[t._v("显示Spring "),s("code",[t._v("integrationgraph")]),t._v(" 。需要依赖"),s("code",[t._v("spring-integration-core")]),t._v("。")])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("loggers")])]),t._v(" "),s("td",[t._v("显示和修改应用程序中日志的配置。")])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("liquibase")])]),t._v(" "),s("td",[t._v("显示已应用的所有Liquibase数据库迁移。需要一个或多个"),s("code",[t._v("Liquibase")]),t._v("组件。")])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("metrics")])]),t._v(" "),s("td",[t._v("显示当前应用程序的“指标”信息。")])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("mappings")])]),t._v(" "),s("td",[t._v("显示所有"),s("code",[t._v("@RequestMapping")]),t._v("路径列表。")])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("scheduledtasks")])]),t._v(" "),s("td",[t._v("显示应用程序中的计划任务。")])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("sessions")])]),t._v(" "),s("td",[t._v("允许从Spring Session支持的会话存储中检索和删除用户会话。需要使用Spring Session的基于Servlet的Web应用程序。")])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("shutdown")])]),t._v(" "),s("td",[t._v("使应用程序正常关闭。默认禁用。")])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("startup")])]),t._v(" "),s("td",[t._v("显示由"),s("code",[t._v("ApplicationStartup")]),t._v("收集的启动步骤数据。需要使用"),s("code",[t._v("SpringApplication")]),t._v("进行配置"),s("code",[t._v("BufferingApplicationStartup")]),t._v("。")])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("threaddump")])]),t._v(" "),s("td",[t._v("执行线程转储。")])])])]),t._v(" "),s("p",[t._v("如果您的应用程序是Web应用程序（Spring MVC，Spring WebFlux或Jersey），则可以使用以下附加端点：")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("ID")]),t._v(" "),s("th",[t._v("描述")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[s("code",[t._v("heapdump")])]),t._v(" "),s("td",[t._v("返回"),s("code",[t._v("hprof")]),t._v("堆转储文件。")])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("jolokia")])]),t._v(" "),s("td",[t._v("通过HTTP暴露JMX bean（需要引入Jolokia，不适用于WebFlux）。需要引入依赖"),s("code",[t._v("jolokia-core")]),t._v("。")])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("logfile")])]),t._v(" "),s("td",[t._v("返回日志文件的内容（如果已设置"),s("code",[t._v("logging.file.name")]),t._v("或"),s("code",[t._v("logging.file.path")]),t._v("属性）。支持使用HTTP"),s("code",[t._v("Range")]),t._v("标头来检索部分日志文件的内容。")])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("prometheus")])]),t._v(" "),s("td",[t._v("以Prometheus服务器可以抓取的格式公开指标。需要依赖"),s("code",[t._v("micrometer-registry-prometheus")]),t._v("。")])])])]),t._v(" "),s("p",[t._v("最常用的Endpoint")]),t._v(" "),s("ul",[s("li",[s("p",[s("strong",[t._v("Health：监控状况")])])]),t._v(" "),s("li",[s("p",[s("strong",[t._v("Metrics：运行时指标")])])]),t._v(" "),s("li",[s("p",[s("strong",[t._v("Loggers：日志记录")])])])]),t._v(" "),s("h1",{attrs:{id:"配置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#配置"}},[t._v("#")]),t._v(" 配置")]),t._v(" "),s("p",[t._v("Spring Boot Actuator的所有配置都是以management作为前缀")]),t._v(" "),s("h1",{attrs:{id:"exposing-endpoints"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#exposing-endpoints"}},[t._v("#")]),t._v(" Exposing Endpoints")]),t._v(" "),s("p",[t._v("因为暴露端点是非常危险的，所以对于使用web进行监控，默认是暴露了"),s("code",[t._v("health")]),t._v("这个端点，也就是我们只有http://localhost:8080/actuator/health可以成功访问")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",{staticStyle:{"text-align":"left"}},[t._v("ID")]),t._v(" "),s("th",{staticStyle:{"text-align":"left"}},[t._v("JMX")]),t._v(" "),s("th",{staticStyle:{"text-align":"left"}},[t._v("Web")])])]),t._v(" "),s("tbody",[s("tr",[s("td",{staticStyle:{"text-align":"left"}},[s("code",[t._v("auditevents")])]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("Yes")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("No")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[s("code",[t._v("beans")])]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("Yes")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("No")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[s("code",[t._v("caches")])]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("Yes")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("No")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[s("code",[t._v("conditions")])]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("Yes")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("No")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[s("code",[t._v("configprops")])]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("Yes")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("No")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[s("code",[t._v("env")])]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("Yes")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("No")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[s("code",[t._v("flyway")])]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("Yes")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("No")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[s("code",[t._v("health")])]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("Yes")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("Yes")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[s("code",[t._v("heapdump")])]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("N/A")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("No")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[s("code",[t._v("httptrace")])]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("Yes")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("No")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[s("code",[t._v("info")])]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("Yes")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("No")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[s("code",[t._v("integrationgraph")])]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("Yes")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("No")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[s("code",[t._v("jolokia")])]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("N/A")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("No")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[s("code",[t._v("logfile")])]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("N/A")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("No")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[s("code",[t._v("loggers")])]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("Yes")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("No")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[s("code",[t._v("liquibase")])]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("Yes")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("No")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[s("code",[t._v("metrics")])]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("Yes")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("No")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[s("code",[t._v("mappings")])]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("Yes")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("No")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[s("code",[t._v("prometheus")])]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("N/A")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("No")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[s("code",[t._v("quartz")])]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("Yes")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("No")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[s("code",[t._v("scheduledtasks")])]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("Yes")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("No")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[s("code",[t._v("sessions")])]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("Yes")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("No")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[s("code",[t._v("shutdown")])]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("Yes")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("No")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[s("code",[t._v("startup")])]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("Yes")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("No")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[s("code",[t._v("threaddump")])]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("Yes")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("No")])])])]),t._v(" "),s("h2",{attrs:{id:"暴露所有端点"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#暴露所有端点"}},[t._v("#")]),t._v(" 暴露所有端点")]),t._v(" "),s("div",{staticClass:"language-yaml line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-yaml"}},[s("code",[s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("management")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("endpoints")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("web")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("exposure")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("include")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"*"')]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br")])]),s("p",[t._v("其中，"),s("code",[t._v("*")]),t._v("表示所有")]),t._v(" "),s("div",{staticClass:"language-yaml line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-yaml"}},[s("code",[s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("management")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("endpoints")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("web")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("exposure")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("include")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"*"')]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("exclude")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"env,beans"')]),t._v("\n        暴露除了env"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("beans之外的所有端点\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br")])]),s("h1",{attrs:{id:"实例"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#实例"}},[t._v("#")]),t._v(" 实例")]),t._v(" "),s("h2",{attrs:{id:"查看自动配置信息"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#查看自动配置信息"}},[t._v("#")]),t._v(" 查看自动配置信息")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("http://localhost:8080/actuator/conditions")]),t._v(" "),s("p",[t._v("查看当前应用自动配置的信息")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://picture.xcye.xyz/image-20210710130951373.png?x-oss-process=style/pictureProcess1",alt:""}})]),t._v(" "),s("p",[s("img",{attrs:{src:"https://picture.xcye.xyz/image-20210710131003483.png?x-oss-process=style/pictureProcess1",alt:""}})])])]),t._v(" "),s("h2",{attrs:{id:"当前配置信息"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#当前配置信息"}},[t._v("#")]),t._v(" 当前配置信息")]),t._v(" "),s("p",[t._v("http://localhost:8080/actuator/configprops")]),t._v(" "),s("p",[t._v("通过"),s("code",[t._v("configprops")]),t._v("可以查看，我们当前程序中的配置信息，也就是和配置文件绑定的那些配置")]),t._v(" "),s("p",[t._v("尽管有些我们没有给值，但是也是有默认值")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://picture.xcye.xyz/image-20210710131240979.png?x-oss-process=style/pictureProcess1",alt:""}})]),t._v(" "),s("h2",{attrs:{id:"环境监控"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#环境监控"}},[t._v("#")]),t._v(" 环境监控")]),t._v(" "),s("p",[t._v("http://localhost:8080/actuator/env")]),t._v(" "),s("p",[t._v("这个就是我们当前的环境")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://picture.xcye.xyz/image-20210710131513372.png?x-oss-process=style/pictureProcess1",alt:""}})]),t._v(" "),s("p",[t._v("包括java环境等等")]),t._v(" "),s("h1",{attrs:{id:"health-endpoint"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#health-endpoint"}},[t._v("#")]),t._v(" Health Endpoint")]),t._v(" "),s("p",[t._v("健康检查端点，我们一般用于在云平台，平台会定时的检查应用的健康状况，我们就需要Health Endpoint可以为平台返回当前应用的一系列组件健康状况的集合。")]),t._v(" "),s("p",[t._v("重要的几点：")]),t._v(" "),s("ul",[s("li",[t._v("health endpoint返回的结果，应该是一系列健康检查后的一个汇总报告")]),t._v(" "),s("li",[t._v("很多的健康检查默认已经自动配置好了，比如：数据库、redis等")]),t._v(" "),s("li",[t._v("可以很容易的添加自定义的健康检查机制")])]),t._v(" "),s("p",[s("img",{attrs:{src:"https://picture.xcye.xyz/image-20210710132915636.png?x-oss-process=style/pictureProcess1",alt:""}})]),t._v(" "),s("p",[t._v("但是默认没有详细信息，我们可以通过配置文件进行开启")]),t._v(" "),s("p",[t._v("因为这些端点我们不能全部暴露，我们额可以只暴露几个")]),t._v(" "),s("div",{staticClass:"language-yaml line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-yaml"}},[s("code",[s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("management")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("endpoints")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 对所有的端点控制")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("web")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("exposure")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("include")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"*"')]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("enabled-by-default")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("false")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v('#        exclude: "env,beans"')]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("endpoint")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 对单个端点控制")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("health")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("show-details")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" always\n      "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("enabled")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("true")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("metrics")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("enabled")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("true")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br")])]),s("p",[t._v("如果想对某个单个端点控制的话，那么可以使用"),s("code",[t._v("management.endpoint.端点名.项")]),t._v("方式")]),t._v(" "),s("p",[t._v("当对"),s("code",[t._v("health")]),t._v("端点开启详细后，我们就可以看到详细的数据")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://picture.xcye.xyz/image-20210710133628597.png?x-oss-process=style/pictureProcess1",alt:""}})]),t._v(" "),s("p",[t._v("只有所有的值，都是"),s("code",[t._v("UP")]),t._v("时，才会返回"),s("code",[t._v("UP")]),t._v("，否则会返回宕机状态，通过这个，我们可以多长时间发送一个请求，如果是宕机，又重新自动部署等")]),t._v(" "),s("h1",{attrs:{id:"metrics-endpoint"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#metrics-endpoint"}},[t._v("#")]),t._v(" Metrics Endpoint")]),t._v(" "),s("p",[t._v("提供详细的、层级的、空间指标信息，这些信息可以被pull（主动推送）或者push（被动获取）方式得到；")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("通过Metrics对接多种监控系统")])]),t._v(" "),s("li",[s("p",[t._v("简化核心Metrics开发")])]),t._v(" "),s("li",[s("p",[t._v("添加自定义Metrics或者扩展已有Metrics")])])]),t._v(" "),s("p",[t._v("http://localhost:8080/actuator/metrics可以通过此进行监控")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://picture.xcye.xyz/image-20210710131559010.png?x-oss-process=style/pictureProcess1",alt:""}})]),t._v(" "),s("p",[t._v("如果想得到上面这些的具体值，那么就http://localhost:8080/actuator/metrics/http.server.requests就可以")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://picture.xcye.xyz/image-20210710131718535.png?x-oss-process=style/pictureProcess1",alt:""}})]),t._v(" "),s("h1",{attrs:{id:"定制endpoint"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#定制endpoint"}},[t._v("#")]),t._v(" 定制endpoint")]),t._v(" "),s("p",[t._v("我们也可以定制端点")]),t._v(" "),s("h2",{attrs:{id:"定制health信息"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#定制health信息"}},[t._v("#")]),t._v(" 定制health信息")]),t._v(" "),s("p",[t._v("如果要定制health的话，那么我们就需要实现"),s("code",[t._v("HealthIndicator")]),t._v("接口")]),t._v(" "),s("blockquote",[s("p",[t._v("public abstract class AbstractHealthIndicator implements HealthIndicator {}")])]),t._v(" "),s("p",[t._v("类的名字以"),s("code",[t._v("名字+HealthIndicator")]),t._v("进行命名，展示的时候，会去掉后面的"),s("code",[t._v("HealthIndicator")])]),t._v(" "),s("div",{staticClass:"language-java line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Component")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("MyComHealthIndicator")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("extends")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("AbstractHealthIndicator")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Override")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("protected")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" doHealthCheck "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Health"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Builder")]),t._v(" builder"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("throws")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Exception")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Map")]),s("span",{pre:!0,attrs:{class:"token generics"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Object")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" map "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("HashMap")]),s("span",{pre:!0,attrs:{class:"token generics"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" i "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("i "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//健康")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//builder.up();")]),t._v("\n            builder"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("status")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Status")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("UP")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            map"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("put")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"count"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            map"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("put")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"ms"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//不健康")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//builder.down();")]),t._v("\n            builder"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("status")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Status")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("OUT_OF_SERVICE")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            map"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("put")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"err"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"连接超时"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            map"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("put")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"ms"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3000")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        builder"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("withDetail")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"map"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("map"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("withDetail")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"ccc"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"fff"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br"),s("span",{staticClass:"line-number"},[t._v("17")]),s("br"),s("span",{staticClass:"line-number"},[t._v("18")]),s("br"),s("span",{staticClass:"line-number"},[t._v("19")]),s("br"),s("span",{staticClass:"line-number"},[t._v("20")]),s("br"),s("span",{staticClass:"line-number"},[t._v("21")]),s("br"),s("span",{staticClass:"line-number"},[t._v("22")]),s("br"),s("span",{staticClass:"line-number"},[t._v("23")]),s("br"),s("span",{staticClass:"line-number"},[t._v("24")]),s("br")])]),s("p",[s("img",{attrs:{src:"https://picture.xcye.xyz/image-20210710141539563.png?x-oss-process=style/pictureProcess1",alt:""}})]),t._v(" "),s("h2",{attrs:{id:"定制info信息"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#定制info信息"}},[t._v("#")]),t._v(" 定制info信息")]),t._v(" "),s("h3",{attrs:{id:"配置文件方式"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#配置文件方式"}},[t._v("#")]),t._v(" 配置文件方式")]),t._v(" "),s("p",[t._v("如果使用yaml，比如要像下面这样写，info就是最高的节点，其并不是在"),s("code",[t._v("management.endpoint.info")]),t._v("，而是"),s("code",[t._v("info")])]),t._v(" "),s("div",{staticClass:"language-yaml line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-yaml"}},[s("code",[s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("info")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("appName")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" chuchen\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("version")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 1.2.2\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("maven1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" @project.groupId@\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br")])]),s("p",[t._v("但是如果关闭了所有的端点，就需要先开启info")]),t._v(" "),s("div",{staticClass:"language-yaml line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-yaml"}},[s("code",[s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("management")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("endpoints")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("web")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("exposure")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("include")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"*"')]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("enabled-by-default")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("false")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("endpoint")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("info")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("enabled")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("true")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("info")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("appName")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" chuchen\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("version")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 1.2.2\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("maven1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" @project.groupId@\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br")])]),s("h3",{attrs:{id:"类方式"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#类方式"}},[t._v("#")]),t._v(" 类方式")]),t._v(" "),s("p",[t._v("使用类方式，只需要实现"),s("code",[t._v("InfoContributor")]),t._v("接口就可以")]),t._v(" "),s("div",{staticClass:"language-java line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Component")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("MyInfo")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("implements")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("InfoContributor")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Override")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" contribute "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Info"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Builder")]),t._v(" builder"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        builder"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("withDetail")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"age"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("21")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("withDetail")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"name"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"qsyyke"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("withDetail")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"qq"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2291308094l")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br")])]),s("p",[t._v("他们可以混合使用，追加的方式")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://picture.xcye.xyz/image-20210710142901099.png?x-oss-process=style/pictureProcess1",alt:""}})]),t._v(" "),s("h2",{attrs:{id:"定制metrics信息"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#定制metrics信息"}},[t._v("#")]),t._v(" 定制Metrics信息")]),t._v(" "),s("h3",{attrs:{id:"springboot支持自动适配的metrics"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#springboot支持自动适配的metrics"}},[t._v("#")]),t._v(" SpringBoot支持自动适配的Metrics")]),t._v(" "),s("ul",[s("li",[t._v("JVM metrics, report utilization of:")]),t._v(" "),s("li",[t._v("Various memory and buffer pools")]),t._v(" "),s("li",[t._v("Statistics related to garbage collection")]),t._v(" "),s("li",[t._v("Threads utilization")]),t._v(" "),s("li",[t._v("Number of classes loaded/unloaded")]),t._v(" "),s("li",[t._v("CPU metrics")]),t._v(" "),s("li",[t._v("File descriptor metrics")]),t._v(" "),s("li",[t._v("Kafka consumer and producer metrics")]),t._v(" "),s("li",[t._v("Log4j2 metrics: record the number of events logged to Log4j2 at each level")]),t._v(" "),s("li",[t._v("Logback metrics: record the number of events logged to Logback at each level")]),t._v(" "),s("li",[t._v("Uptime metrics: report a gauge for uptime and a fixed gauge representing the application’s absolute start time")]),t._v(" "),s("li",[t._v("Tomcat metrics ("),s("code",[t._v("server.tomcat.mbeanregistry.enabled")]),t._v(" must be set to "),s("code",[t._v("true")]),t._v(" for all Tomcat metrics to be registered)")]),t._v(" "),s("li",[s("a",{attrs:{href:"http://ooszy.cco.vin/img/blog-note/https://docs.spring.io/spring-integration/docs/5.4.1/reference/html/system-management.html#micrometer-integration",target:"_blank",rel:"noopener noreferrer"}},[t._v("Spring Integration"),s("OutboundLink")],1),t._v(" metrics")])]),t._v(" "),s("div",{staticClass:"language-java line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Component")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("MyMetrics")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("MyMetrics")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("MeterRegistry")]),t._v(" meterRegistry"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Counter")]),t._v(" counter "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" meterRegistry"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("counter")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"myMetrics.method.running.counter"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br")])]),s("p",[s("img",{attrs:{src:"https://picture.xcye.xyz/image-20210710143508064.png?x-oss-process=style/pictureProcess1",alt:""}})]),t._v(" "),s("p",[s("img",{attrs:{src:"https://picture.xcye.xyz/image-20210710143531397.png?x-oss-process=style/pictureProcess1",alt:""}})]),t._v(" "),s("h2",{attrs:{id:"添加endpoint"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#添加endpoint"}},[t._v("#")]),t._v(" 添加endpoint")]),t._v(" "),s("p",[t._v("我们也可以添加端点")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://picture.xcye.xyz/image-20210710144352080.png?x-oss-process=style/pictureProcess1",alt:""}})]),t._v(" "),s("div",{staticClass:"language-java line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Endpoint")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("id "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"myEndpoint"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Component")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("MyEndpoint")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@ReadOperation")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Map")]),s("span",{pre:!0,attrs:{class:"token generics"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Object")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getInfo")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Collections")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("singletonMap")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"info"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"ReadOperation-------"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@WriteOperation")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("restart")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("System")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("out"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("println")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"chuhen----------"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br")])]),s("blockquote",[s("p",[t._v("尽管我们已经关闭端点暴露，但是我们自己的端点，可以不用去开启")])]),t._v(" "),s("h1",{attrs:{id:"可视化"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#可视化"}},[t._v("#")]),t._v(" 可视化")]),t._v(" "),s("p",[t._v("https://github.com/codecentric/spring-boot-admin")]),t._v(" "),s("p",[t._v("首先，需要安装一个服务器，导入下面依赖，需要重新新建一个module")]),t._v(" "),s("div",{staticClass:"language-xml line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-xml"}},[s("code")]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"})]),s("p",[t._v("启动效果")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://picture.xcye.xyz/image-20210710152839738.png?x-oss-process=style/pictureProcess1",alt:""}})])])}),[],!1,null,null,null);s.default=n.exports}}]);